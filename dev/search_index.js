var documenterSearchIndex = {"docs":
[{"location":"inference/pysbi/#Simulation-based-inference-via-sbi","page":"PySBI","title":"Simulation-based inference via sbi","text":"","category":"section"},{"location":"inference/pysbi/","page":"PySBI","title":"PySBI","text":"CurrentModule = SimulationBasedInference\nDocTestSetup = quote\n    using SimulationBasedInference\n    using SimulationBasedInference.PySBI\nend","category":"page"},{"location":"inference/pysbi/","page":"PySBI","title":"PySBI","text":"PySBI.PySNE","category":"page"},{"location":"inference/pysbi/#SimulationBasedInference.PySBI.PySNE-inference-pysbi","page":"PySBI","title":"SimulationBasedInference.PySBI.PySNE","text":"PySNE <: SBI.SimulatorInferenceAlgorithm\n\nWrapper for the sequential neural estimator (SNxE) algorithms from the python sbi package. algtype should typically be one of SNPE_A, SNPE_B, SNPE_C, or 'SNLE_A', though any suitable algorithm type can be used.\n\n\n\n\n\n","category":"type"},{"location":"problems/inference_problem/#inference","page":"Inference problems","title":"Inference problems","text":"","category":"section"},{"location":"problems/inference_problem/","page":"Inference problems","title":"Inference problems","text":"CurrentModule = SimulationBasedInference\nDocTestSetup = quote\n    using SimulationBasedInference, OrdinaryDiffEq, ComponentArrays\nend","category":"page"},{"location":"problems/inference_problem/","page":"Inference problems","title":"Inference problems","text":"The SimulatorInferenceProblem defines a probabilistic inverse problem from a given SimulatorForwardProblem, a solver for that forward problem, a prior for the simulator parameters, and a set of SimulatorLikelihoods which relate the output of one or more observables to the data on which we wish to condition. In other words, the SimulatorInferenceProblem fully specifies the probability model,","category":"page"},{"location":"problems/inference_problem/","page":"Inference problems","title":"Inference problems","text":"p(phisigma_1dotssigma_n  y_1dotsy_nmathcalM) propto p(phimathcalM)prod_i=1^n p(sigma_i) prod_i=1^n p(y_iphisigma_imathcalM)","category":"page"},{"location":"problems/inference_problem/","page":"Inference problems","title":"Inference problems","text":"for some forward model mathcalM with parameters phi and a set of observables mapping to data y_i each with noise model parameters sigma_i.","category":"page"},{"location":"problems/inference_problem/","page":"Inference problems","title":"Inference problems","text":"SimulatorInferenceProblem(\n    prob::SimulatorForwardProblem,\n    forward_solver,\n    prior::AbstractSimulatorPrior,\n    likelihoods::SimulatorLikelihood...;\n    metadata::Dict=Dict(),\n)","category":"page"},{"location":"problems/inference_problem/#SimulationBasedInference.SimulatorInferenceProblem-Tuple{SimulatorForwardProblem, Any, AbstractSimulatorPrior, Vararg{SimulatorLikelihood}}-problems-inference_problem","page":"Inference problems","title":"SimulationBasedInference.SimulatorInferenceProblem","text":"SimulatorInferenceProblem(\n    prob::SimulatorForwardProblem,\n    forward_solver,\n    prior::AbstractSimulatorPrior,\n    likelihoods::AbstractLikelihood...;\n    metadata::Dict=Dict(),\n)\n\nConstructs a SimulatorInferenceProblem from the given forward problem, prior, and likelihoods. Additional user-specified metadata may be included in the metadata dictionary.\n\n\n\n\n\n","category":"method"},{"location":"problems/inference_problem/#Likelihoods-(or-the-lack-thereof)","page":"Inference problems","title":"Likelihoods (or the lack thereof)","text":"","category":"section"},{"location":"problems/inference_problem/","page":"Inference problems","title":"Inference problems","text":"Each SimulatorLikelihood defines a likelihood or predictive distribution of some data given an observable defined for the simulator.","category":"page"},{"location":"problems/inference_problem/","page":"Inference problems","title":"Inference problems","text":"SimulatorLikelihood(::Type{distType}, obs, data, prior, name) where {distType}","category":"page"},{"location":"problems/inference_problem/#SimulationBasedInference.SimulatorLikelihood-Union{Tuple{distType}, Tuple{Type{distType}, Vararg{Any, 4}}} where distType-problems-inference_problem","page":"Inference problems","title":"SimulationBasedInference.SimulatorLikelihood","text":"SimulatorLikelihood(::Type{distType}, obs, data, prior, name=nameof(obs)) where {distType}\n\nCreates a SimulatorLikelihood with the given distribution type, observable, data source, and prior distribtuion. A custom identifier may also be specified via the name argument; by default, the name of the observable is used.\n\n\n\n\n\n","category":"method"},{"location":"problems/inference_problem/","page":"Inference problems","title":"Inference problems","text":"Note that the prior passed to the SimulatorLikelihood is the prior for the observation noise/error model, not the forward model. To illustrate this distinction, consisder as an example a simple classical linear regression:","category":"page"},{"location":"problems/inference_problem/","page":"Inference problems","title":"Inference problems","text":"beginalign*\ny_i sim mathcalN(mu sigma) \nmu = beta x \nbeta sim mathcalN(01) \nsigma sim textInvGamma(23)\nendalign*","category":"page"},{"location":"problems/inference_problem/","page":"Inference problems","title":"Inference problems","text":"In this case, the forward model parameters phi = beta whereas the noise model parameters for the likelihood correspond to sigma. Note that SimulatorInferenceProblem always assumes that sigma is a priori independent of phi!","category":"page"},{"location":"problems/inference_problem/","page":"Inference problems","title":"Inference problems","text":"Currently, SimulatoionBasedInference defines the following types of likelihoods:","category":"page"},{"location":"problems/inference_problem/","page":"Inference problems","title":"Inference problems","text":"GaussianLikelihood(\n    obs,\n    data,\n    prior,\n    name,\n)","category":"page"},{"location":"problems/inference_problem/#SimulationBasedInference.GaussianLikelihood-NTuple{4, Any}-problems-inference_problem","page":"Inference problems","title":"SimulationBasedInference.GaussianLikelihood","text":"GaussianLikelihood(obs, data, prior, name)\n\nAlias for SimulatorLikelihood(Normal, obs, data, prior, name). Represents a univariate Guassian likelihood.\n\n\n\n\n\n","category":"method"},{"location":"problems/inference_problem/","page":"Inference problems","title":"Inference problems","text":"IsotropicGaussianLikelihood(\n    obs,\n    data,\n    prior,\n    name,\n)","category":"page"},{"location":"problems/inference_problem/#SimulationBasedInference.IsotropicGaussianLikelihood-NTuple{4, Any}-problems-inference_problem","page":"Inference problems","title":"SimulationBasedInference.IsotropicGaussianLikelihood","text":"IsotropicGaussianLikelihood(obs, data, prior, name)\n\nAlias for SimulatorLikelihood(IsoNormal, obs, data, prior, name). Represents a multivaraite i.i.d Guassian likelihood with homoscedastic noise.\n\n\n\n\n\n","category":"method"},{"location":"problems/inference_problem/","page":"Inference problems","title":"Inference problems","text":"DiagonalGaussianLikelihood(\n    obs,\n    data,\n    prior,\n    name,\n)","category":"page"},{"location":"problems/inference_problem/#SimulationBasedInference.DiagonalGaussianLikelihood-NTuple{4, Any}-problems-inference_problem","page":"Inference problems","title":"SimulationBasedInference.DiagonalGaussianLikelihood","text":"DiagonalGaussianLikelihood(obs, data, prior, name)\n\nAlias for SimulatorLikelihood(DiagNormal, obs, data, prior, name). Represents a multivaraite i.i.d Guassian likelihood with heteroscedastic noise.\n\n\n\n\n\n","category":"method"},{"location":"problems/inference_problem/","page":"Inference problems","title":"Inference problems","text":"DiracLikelihood(\n    obs,\n    data,\n    name,\n)","category":"page"},{"location":"problems/inference_problem/#SimulationBasedInference.DiracLikelihood-Tuple{Any, Any, Any}-problems-inference_problem","page":"Inference problems","title":"SimulationBasedInference.DiracLikelihood","text":"DiracLikelihood(\n    obs,\n    data,\n    name=nameof(obs),\n)\n\nRepresents a Dirac delta likelihood function which assigns full probability mass to a single point, i.e. the predicted value of the simulator observable.\n\n\n\n\n\n","category":"method"},{"location":"problems/inference_problem/#Likelihood-\"free\"-inference","page":"Inference problems","title":"Likelihood \"free\" inference","text":"","category":"section"},{"location":"problems/inference_problem/","page":"Inference problems","title":"Inference problems","text":"One common use case of simulation-based inference is for so-called \"likelihood free\" models, i.e. models where the likelihood is either intractable or not well defined. For these cases, SimulationBasedInference provides a special type:","category":"page"},{"location":"problems/inference_problem/","page":"Inference problems","title":"Inference problems","text":"ImplicitLikelihood(\n    obs,\n    data,\n    name,\n)","category":"page"},{"location":"problems/inference_problem/#SimulationBasedInference.ImplicitLikelihood-Tuple{Any, Any, Any}-problems-inference_problem","page":"Inference problems","title":"SimulationBasedInference.ImplicitLikelihood","text":"ImplicitLikelihood(\n    obs,\n    data,\n    name=nameof(obs),\n)\n\nRepresents a Dirac delta likelihood function which assigns full probability mass to a single point, i.e. the predicted value of the simulator observable.\n\n\n\n\n\n","category":"method"},{"location":"problems/inference_problem/","page":"Inference problems","title":"Inference problems","text":"The implicit liklihood is virtually identiical to DiracLikelihood in that the observable is compared directly to the given data. However, unlike DiracLikelihood the ImplicitLikelihood does not allow construction of a predictive distribution or evaluation of the log-liklihood since they are not defined.","category":"page"},{"location":"problems/inference_problem/#Custom-likelihoods","page":"Inference problems","title":"Custom likelihoods","text":"","category":"section"},{"location":"problems/inference_problem/","page":"Inference problems","title":"Inference problems","text":"Currently, all likelihoods must be defined using the SimulatorLikelihood type. However, new dispatches may be defined for SimulatorLikelihoods of for new distribution families (i.e. distType) or with specific types of priors.","category":"page"},{"location":"problems/inference_problem/","page":"Inference problems","title":"Inference problems","text":"All SimulatorLikelihoods must implement the following method interface:","category":"page"},{"location":"problems/inference_problem/","page":"Inference problems","title":"Inference problems","text":"observable(lik::SimulatorLikelihood)","category":"page"},{"location":"problems/inference_problem/#SimulationBasedInference.observable-Tuple{SimulatorLikelihood}-problems-inference_problem","page":"Inference problems","title":"SimulationBasedInference.observable","text":"observable(lik::SimulatorLikelihood)\n\nRetrieve the SimulatorObservable associated with this likelihood.\n\n\n\n\n\n","category":"method"},{"location":"problems/inference_problem/","page":"Inference problems","title":"Inference problems","text":"getprior(lik::SimulatorLikelihood)","category":"page"},{"location":"problems/inference_problem/#SimulationBasedInference.getprior-Tuple{SimulatorLikelihood}-problems-inference_problem","page":"Inference problems","title":"SimulationBasedInference.getprior","text":"getprior(lik::SimulatorLikelihood)\n\nReturn the AbstractSimulatorPrior distribution associated with the parameters for this likelihood. Note that this is distinct from the prior for the forward model parameters.\n\n\n\n\n\n","category":"method"},{"location":"problems/inference_problem/","page":"Inference problems","title":"Inference problems","text":"predictive_distribution(lik::SimulatorLikelihood, args...)","category":"page"},{"location":"problems/inference_problem/#SimulationBasedInference.predictive_distribution-Tuple{SimulatorLikelihood, Vararg{Any}}-problems-inference_problem","page":"Inference problems","title":"SimulationBasedInference.predictive_distribution","text":"predictive_distribution(lik::SimulatorLikelihood, args...)\n\nBuilds the predictive distribution of lik given the parameters in args. This method is mandatory for all specializations of SimulatorLikelihood.\n\n\n\n\n\n","category":"method"},{"location":"problems/inference_problem/","page":"Inference problems","title":"Inference problems","text":"sample_prediction(rng::AbstractRNG, lik::SimulatorLikelihood, args...)","category":"page"},{"location":"problems/inference_problem/#SimulationBasedInference.sample_prediction-Tuple{Random.AbstractRNG, SimulatorLikelihood, Vararg{Any}}-problems-inference_problem","page":"Inference problems","title":"SimulationBasedInference.sample_prediction","text":"sample_prediction([rng::AbstractRNG], lik::SimulatorLikelihood, args...)\n\nSamples the conditional predictive distribution p(y|u) where u is the current value of the likelihood observable. This method is optional for specializations; the default implementation simply invokes rand on the predictive_distribution(lik, args...).\n\n\n\n\n\n","category":"method"},{"location":"problems/inference_problem/#Parameter-spaces","page":"Inference problems","title":"Parameter spaces","text":"","category":"section"},{"location":"problems/inference_problem/","page":"Inference problems","title":"Inference problems","text":"All SimulatorInferenceProblems implicitly define a coupling between three parameter spaces: an unconstrained sample space Xi, a constrained sample space Theta, and the model parameter space Phi. The \"sample space\" here refers to the parameter space defined by the joint prior distribution, i.e. the product of the model parameter prior and the noise model prior p(phisigma) = p(phi)p(sigma). This is the parameter space of interest for the inference problem, i.e. for optimization or posterior sampling. There is a noteworthy distinction made here between the sample space of the model parameters and the actual model parameter space. This distinction arises for three primary reasons:","category":"page"},{"location":"problems/inference_problem/","page":"Inference problems","title":"Inference problems","text":"Not all parameters defined by the simulator are necessarily included in the inference parameters. There may be some paraemters which are treated as constants because they are not of interest.\nIt is often advantageous or convenient to reparameterize some parameters; e.g. parameters that have linear dependencies on each other can be reparameterized as linearly independent parameters in the prior.\nHierarchical models may define additional parameters which are conditioned on by each model parameter.","category":"page"},{"location":"problems/inference_problem/","page":"Inference problems","title":"Inference problems","text":"We can express this more formally in terms of the above probability model as,","category":"page"},{"location":"problems/inference_problem/","page":"Inference problems","title":"Inference problems","text":"p(phi  ypi) propto p(yphipi)p(phithetapi)p(thetapi)","category":"page"},{"location":"problems/inference_problem/","page":"Inference problems","title":"Inference problems","text":"where phi = pi(theta) can be referred to as the prior model since it defines the statistical relationship between the sampled parameters theta and the \"real\" model parameters phi. Note that the conditioning on the forward model mathcalM is here suppressed for brevity. In cases where pi is a deterministic mapping, the additional density terms p(phitheta) and p(theta) can be safely neglected.","category":"page"},{"location":"problems/inference_problem/","page":"Inference problems","title":"Inference problems","text":"The unconstrained parameters xi in Xi represent a (typically nonlinear) bijection theta = f(xi) of the sample space Theta onto the real numbers Xi = mathbbR^d where d is the number of parameters. This bijection is often necessary in order to avoid problems with bounded domains in many sampling and optimization algorithms. Within the context of SimulationBasedInfernece, we refer to f as the bijetor, pi as the forward map, and pi circ f as the unconstrained forward map. Note that other authors sometimes use the term \"forward map\" to additionally include the forward model mathcalM. We instead refer to the full forward mapping as the joint forward model, i.e. mathcalM circ pi  Theta mapsto mathbfY where y in mathbfY.","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"EditURL = \"../../../examples/linearode/linearode.jl\"","category":"page"},{"location":"examples/linearode/#linearode","page":"Ensemble inversion of a linear ODE","title":"Getting started: Linear ODE inversion","text":"","category":"section"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"In this example, we will use SimulationBasedInference in combination with the OrdinaryDiffEq package to recover the true parameter of a simple linear ordinary differential equation:","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"fracpartial upartial t = -alpha u","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"Of course, this ODE has an analytical solution: u(t) = u_0 e^-alpha t which we could (more efficiently) use to define the inverse problem. However, in order to demonstrate the usage of SimulationBasedInference on dynamical systems more broadly, we will solve the problem using numerical methods.","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"First, we load the necessary packages","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"using SimulationBasedInference\nusing OrdinaryDiffEq\nusing Plots, StatsPlots\nimport Random","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"extensions","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"using DynamicHMC\n","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"and then initialize a random number generator for reproducibility.","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"const rng = Random.MersenneTwister(1234);","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"Now, we will define our simple dynamical system using the general SciML problem interface:","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"ode_func(u,p,t) = -p[1]*u;\nα_true = 0.2\node_p = [α_true];\ntspan = (0.0,10.0);\nodeprob = ODEProblem(ode_func, [1.0], tspan, ode_p)","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"ODEProblem with uType Vector{Float64} and tType Float64. In-place: false\ntimespan: (0.0, 10.0)\nu0: 1-element Vector{Float64}:\n 1.0","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"To solve an inverse (or inference) problem with SimulationBasedInference, we must first define a forward problem. The forward problem consists of two components:","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"A SciML problem type or forward map function f Theta mapsto mathcalU.\nOne or more \"observables\" which define the observation operator that transforms the model state to","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"to something comparable to data.","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"In this case, we can simply define a function that extracts the current state from the ODE integrator. The SimulatorObservable(name, func, t0, tsave, coords) additionally takes an initial time point, a vector of observed time points, and a tuple specifying the shape or coordiantes of the observable at each time point. Here, (1,) indicates that the state is a one-dimensional vector.","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"dt = 0.2\ntsave = tspan[begin]+dt:dt:tspan[end];\nn_obs = length(tsave);\nobservable = ODEObservable(:y, odeprob, tsave, samplerate=0.01);\nforward_prob = SimulatorForwardProblem(odeprob, observable)","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"SimulatorForwardProblem (ODEProblem) with 1 observables (:y,)\n","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"In order to set up our synthetic example, we need to some data to infer from. Here we generate the data by running the forward model and adding Gaussian noise.","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"ode_solver = Tsit5()\nforward_sol = solve(forward_prob, ode_solver);\ntrue_obs = get_observable(forward_sol, :y)\nnoise_scale = 0.05\nnoisy_obs = true_obs .+ noise_scale*randn(rng, n_obs);","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"plot the results","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"plot(true_obs, label=\"True solution\", linewidth=3, color=:black)\nplt = scatter!(tsave, noisy_obs, label=\"Noisy observations\", alpha=0.5)","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"(Image: )","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"Here we set our priors. We use a weakly informative Beta(2,2) prior which puts less mass at the tails. We could also use a flat prior Beta(1,1) if we wanted to be more agnostic to further minimize the influence of the prior.","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"model_prior = prior(α=Beta(2,2));\nnoise_scale_prior = prior(σ=Exponential(0.1));\np1 = Plots.plot(model_prior.dist.α)\np2 = Plots.plot(noise_scale_prior.dist.σ)\nplt = Plots.plot(p1, p2)","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"(Image: )","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"Now we assign a simple Gaussian likelihood for the obsevation/noise model.","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"lik = IsotropicGaussianLikelihood(observable, noisy_obs, noise_scale_prior);","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"We now have all of the ingredients needed to set up and solve the inference problem. We will start with a simple ensemble importance sampling inference algorithm.","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"inference_prob = SimulatorInferenceProblem(forward_prob, ode_solver, model_prior, lik);\nenis_sol = solve(inference_prob, EnIS(), ensemble_size=128, rng=rng);","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"We can extract the prior ensemble from the solution.","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"prior_ens = get_transformed_ensemble(enis_sol)\nprior_ens_mean = mean(prior_ens, dims=2)[:,1]\nprior_ens_std = std(prior_ens, dims=2)[:,1]\nprior_ens_obs = Array(get_observables(enis_sol).y);\nprior_ens_obs_mean = mean(prior_ens_obs, dims=2)[:,1]\nprior_ens_obs_std = std(prior_ens_obs, dims=2)","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"In contrast to other inference algorithms, importance sampling produces weights rather than direct samples from the posterior. We can use the get_weights method to extract these from the solution.","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"importance_weights = get_weights(enis_sol);","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"We can then use these importance weights to compute weighted statistics using standard methods from the Statistics and StatsBase modules. Note that these modules are exported by SimulationBasedInference for convenience.","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"posterior_obs_mean_enis = mean(prior_ens_obs, weights(importance_weights), 2)[:,1]\nposterior_obs_std_enis = std(prior_ens_obs, weights(importance_weights), 2)[:,1]\nposterior_mean_enis = mean(prior_ens, weights(importance_weights))","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"0.20609942412084206","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"Now we plot the prior vs. the posterior predictions.","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"plot(tsave, true_obs, label=\"True solution\", c=:black, linewidth=2, title=\"Linear ODE posterior predictions (EnIS)\")\nplot!(tsave, prior_ens_obs_mean, label=\"Prior\", c=:gray, linestyle=:dash, ribbon=2*prior_ens_obs_std, alpha=0.5, linewidth=2)\nplot!(tsave, posterior_obs_mean_enis, label=\"Posterior\", c=:blue, linestyle=:dash, ribbon=2*posterior_obs_std_enis, alpha=0.7, linewidth=2)\nplt = scatter!(tsave, noisy_obs, label=\"Noisy observations\", c=:orange)","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"(Image: )","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"One of the key benefits of the standard problem interface is that we can very easily switch to a different algorithm by changing a single line of code. Here, we solve the same inference problem instead with the ensemble smoother w/ \"multiple data assimilation\" (ES-MDA).","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"esmda_sol = solve(inference_prob, ESMDA(), ensemble_size=128, rng=rng);","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"Now we extract the posterior ensemble and compute the relevant statistics.","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"posterior_esmda = get_transformed_ensemble(esmda_sol)\nposterior_mean_esmda = mean(posterior_esmda, dims=2)","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"1×1 Matrix{Float64}:\n 0.20577335366500754","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"Plotting the predictions shows that we get a much tighter estimate of the posterior mean.","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"posterior_obs_esmda = get_observables(esmda_sol).y\nposterior_obs_mean_esmda = mean(posterior_obs_esmda, dims=2)[:,1]\nposterior_obs_std_esmda = std(posterior_obs_esmda, dims=2)[:,1]\nplot(tsave, true_obs, label=\"True solution\", c=:black, linewidth=2, title=\"ES-MDA\")\nplot!(tsave, prior_ens_obs_mean, label=\"Prior\", c=:gray, linestyle=:dash, ribbon=2*prior_ens_obs_std, alpha=0.5, linewidth=2)\nplot!(tsave, posterior_obs_mean_esmda, label=\"Posterior\", c=:blue, linestyle=:dash, ribbon=2*posterior_obs_std_esmda, alpha=0.7, linewidth=2)\nplt = scatter!(tsave, noisy_obs, label=\"Noisy observations\", c=:black)","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"(Image: )","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"We can again solve the same problem with the Ensemble Kalman Sampler of Garbuno-Inigo et al. (2020) which yields very similar results (in this case).","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"eks_sol = solve(inference_prob, EKS(), ensemble_size=128, rng=rng, verbose=false)\nposterior_eks = get_transformed_ensemble(eks_sol)\nposterior_mean_eks = mean(posterior_eks, dims=2)\nposterior_obs_eks = get_observables(eks_sol).y\nposterior_obs_mean_eks = mean(posterior_obs_eks, dims=2)[:,1]\nposterior_obs_std_eks = std(posterior_obs_eks, dims=2)[:,1]\nplot(tsave, true_obs, label=\"True solution\", c=:black, linewidth=2, title=\"EKS\")\nplot!(tsave, prior_ens_obs_mean, label=\"Prior\", c=:gray, linestyle=:dash, ribbon=2*prior_ens_obs_std, alpha=0.5, linewidth=2)\nplot!(tsave, posterior_obs_mean_eks, label=\"Posterior\", c=:blue, linestyle=:dash, ribbon=2*posterior_obs_std_eks, alpha=0.7, linewidth=2)\nplt = scatter!(tsave, noisy_obs, label=\"Noisy observations\", c=:black)","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"(Image: )","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"Now solve using the gold standard No U-turn sampler (NUTS). This will take a few minutes to run. Note that this would generally not be feasible more expensive simulators.","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"hmc_sol = @time solve(inference_prob, MCMC(NUTS()), num_samples=1000, rng=rng);\nposterior_hmc = transpose(Array(hmc_sol.result))\nposterior_mean_hmc = mean(posterior_hmc, dims=2)\nposterior_obs_hmc = reduce(hcat, map(out -> out.y, hmc_sol.storage.outputs))\nposterior_obs_mean_hmc = mean(posterior_obs_hmc, dims=2)[:,1]\nposterior_obs_std_hmc = std(posterior_obs_hmc, dims=2)[:,1]\nplot(tsave, true_obs, label=\"True solution\", c=:black, linewidth=2, title=\"EKS\")\nplot!(tsave, prior_ens_obs_mean, label=\"Prior\", c=:gray, linestyle=:dash, ribbon=2*prior_ens_obs_std, alpha=0.5, linewidth=2)\nplot!(tsave, posterior_obs_mean_hmc, label=\"Posterior\", c=:blue, linestyle=:dash, ribbon=2*posterior_obs_std_hmc, alpha=0.7, linewidth=2)\nplt = scatter!(tsave, noisy_obs, label=\"Noisy observations\", c=:black)","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"600\" height=\"400\" viewBox=\"0 0 2400 1600\">\n<defs>\n  <clipPath id=\"clip200\">\n    <rect x=\"0\" y=\"0\" width=\"2400\" height=\"1600\"/>\n  </clipPath>\n</defs>\n<path clip-path=\"url(#clip200)\" d=\"M0 1600 L2400 1600 L2400 0 L0 0  Z\" fill=\"#ffffff\" fill-rule=\"evenodd\" fill-opacity=\"1\"/>\n<defs>\n  <clipPath id=\"clip201\">\n    <rect x=\"480\" y=\"0\" width=\"1681\" height=\"1600\"/>\n  </clipPath>\n</defs>\n<path clip-path=\"url(#clip200)\" d=\"M186.274 1486.45 L2352.76 1486.45 L2352.76 123.472 L186.274 123.472  Z\" fill=\"#ffffff\" fill-rule=\"evenodd\" fill-opacity=\"1\"/>\n<defs>\n  <clipPath id=\"clip202\">\n    <rect x=\"186\" y=\"123\" width=\"2167\" height=\"1364\"/>\n  </clipPath>\n</defs>\n<polyline clip-path=\"url(#clip202)\" style=\"stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none\" points=\"205.878,1486.45 205.878,123.472 \"/>\n<polyline clip-path=\"url(#clip202)\" style=\"stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none\" points=\"727.269,1486.45 727.269,123.472 \"/>\n<polyline clip-path=\"url(#clip202)\" style=\"stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none\" points=\"1248.66,1486.45 1248.66,123.472 \"/>\n<polyline clip-path=\"url(#clip202)\" style=\"stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none\" points=\"1770.05,1486.45 1770.05,123.472 \"/>\n<polyline clip-path=\"url(#clip202)\" style=\"stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none\" points=\"2291.44,1486.45 2291.44,123.472 \"/>\n<polyline clip-path=\"url(#clip202)\" style=\"stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none\" points=\"186.274,1228.44 2352.76,1228.44 \"/>\n<polyline clip-path=\"url(#clip202)\" style=\"stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none\" points=\"186.274,968.47 2352.76,968.47 \"/>\n<polyline clip-path=\"url(#clip202)\" style=\"stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none\" points=\"186.274,708.503 2352.76,708.503 \"/>\n<polyline clip-path=\"url(#clip202)\" style=\"stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none\" points=\"186.274,448.536 2352.76,448.536 \"/>\n<polyline clip-path=\"url(#clip202)\" style=\"stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none\" points=\"186.274,188.569 2352.76,188.569 \"/>\n<polyline clip-path=\"url(#clip200)\" style=\"stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none\" points=\"186.274,1486.45 2352.76,1486.45 \"/>\n<polyline clip-path=\"url(#clip200)\" style=\"stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none\" points=\"205.878,1486.45 205.878,1467.55 \"/>\n<polyline clip-path=\"url(#clip200)\" style=\"stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none\" points=\"727.269,1486.45 727.269,1467.55 \"/>\n<polyline clip-path=\"url(#clip200)\" style=\"stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none\" points=\"1248.66,1486.45 1248.66,1467.55 \"/>\n<polyline clip-path=\"url(#clip200)\" style=\"stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none\" points=\"1770.05,1486.45 1770.05,1467.55 \"/>\n<polyline clip-path=\"url(#clip200)\" style=\"stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none\" points=\"2291.44,1486.45 2291.44,1467.55 \"/>\n<path clip-path=\"url(#clip200)\" d=\"M183.263 1517.37 Q179.652 1517.37 177.823 1520.93 Q176.017 1524.47 176.017 1531.6 Q176.017 1538.71 177.823 1542.27 Q179.652 1545.82 183.263 1545.82 Q186.897 1545.82 188.702 1542.27 Q190.531 1538.71 190.531 1531.6 Q190.531 1524.47 188.702 1520.93 Q186.897 1517.37 183.263 1517.37 M183.263 1513.66 Q189.073 1513.66 192.128 1518.27 Q195.207 1522.85 195.207 1531.6 Q195.207 1540.33 192.128 1544.94 Q189.073 1549.52 183.263 1549.52 Q177.453 1549.52 174.374 1544.94 Q171.318 1540.33 171.318 1531.6 Q171.318 1522.85 174.374 1518.27 Q177.453 1513.66 183.263 1513.66 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M203.425 1542.97 L208.309 1542.97 L208.309 1548.85 L203.425 1548.85 L203.425 1542.97 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M228.494 1517.37 Q224.883 1517.37 223.054 1520.93 Q221.249 1524.47 221.249 1531.6 Q221.249 1538.71 223.054 1542.27 Q224.883 1545.82 228.494 1545.82 Q232.128 1545.82 233.934 1542.27 Q235.762 1538.71 235.762 1531.6 Q235.762 1524.47 233.934 1520.93 Q232.128 1517.37 228.494 1517.37 M228.494 1513.66 Q234.304 1513.66 237.36 1518.27 Q240.438 1522.85 240.438 1531.6 Q240.438 1540.33 237.36 1544.94 Q234.304 1549.52 228.494 1549.52 Q222.684 1549.52 219.605 1544.94 Q216.55 1540.33 216.55 1531.6 Q216.55 1522.85 219.605 1518.27 Q222.684 1513.66 228.494 1513.66 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M699.005 1544.91 L715.324 1544.91 L715.324 1548.85 L693.38 1548.85 L693.38 1544.91 Q696.042 1542.16 700.625 1537.53 Q705.232 1532.88 706.412 1531.53 Q708.658 1529.01 709.537 1527.27 Q710.44 1525.51 710.44 1523.82 Q710.44 1521.07 708.496 1519.33 Q706.574 1517.6 703.473 1517.6 Q701.274 1517.6 698.82 1518.36 Q696.389 1519.13 693.612 1520.68 L693.612 1515.95 Q696.436 1514.82 698.889 1514.24 Q701.343 1513.66 703.38 1513.66 Q708.75 1513.66 711.945 1516.35 Q715.139 1519.03 715.139 1523.52 Q715.139 1525.65 714.329 1527.57 Q713.542 1529.47 711.436 1532.07 Q710.857 1532.74 707.755 1535.95 Q704.653 1539.15 699.005 1544.91 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M725.139 1542.97 L730.023 1542.97 L730.023 1548.85 L725.139 1548.85 L725.139 1542.97 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M740.255 1514.29 L758.611 1514.29 L758.611 1518.22 L744.537 1518.22 L744.537 1526.7 Q745.556 1526.35 746.574 1526.19 Q747.593 1526 748.611 1526 Q754.398 1526 757.778 1529.17 Q761.158 1532.34 761.158 1537.76 Q761.158 1543.34 757.685 1546.44 Q754.213 1549.52 747.894 1549.52 Q745.718 1549.52 743.449 1549.15 Q741.204 1548.78 738.797 1548.04 L738.797 1543.34 Q740.88 1544.47 743.102 1545.03 Q745.324 1545.58 747.801 1545.58 Q751.806 1545.58 754.144 1543.48 Q756.482 1541.37 756.482 1537.76 Q756.482 1534.15 754.144 1532.04 Q751.806 1529.94 747.801 1529.94 Q745.926 1529.94 744.051 1530.35 Q742.199 1530.77 740.255 1531.65 L740.255 1514.29 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M1215.82 1514.29 L1234.18 1514.29 L1234.18 1518.22 L1220.11 1518.22 L1220.11 1526.7 Q1221.12 1526.35 1222.14 1526.19 Q1223.16 1526 1224.18 1526 Q1229.97 1526 1233.35 1529.17 Q1236.73 1532.34 1236.73 1537.76 Q1236.73 1543.34 1233.25 1546.44 Q1229.78 1549.52 1223.46 1549.52 Q1221.29 1549.52 1219.02 1549.15 Q1216.77 1548.78 1214.37 1548.04 L1214.37 1543.34 Q1216.45 1544.47 1218.67 1545.03 Q1220.89 1545.58 1223.37 1545.58 Q1227.37 1545.58 1229.71 1543.48 Q1232.05 1541.37 1232.05 1537.76 Q1232.05 1534.15 1229.71 1532.04 Q1227.37 1529.94 1223.37 1529.94 Q1221.5 1529.94 1219.62 1530.35 Q1217.77 1530.77 1215.82 1531.65 L1215.82 1514.29 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M1245.94 1542.97 L1250.82 1542.97 L1250.82 1548.85 L1245.94 1548.85 L1245.94 1542.97 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M1271.01 1517.37 Q1267.4 1517.37 1265.57 1520.93 Q1263.76 1524.47 1263.76 1531.6 Q1263.76 1538.71 1265.57 1542.27 Q1267.4 1545.82 1271.01 1545.82 Q1274.64 1545.82 1276.45 1542.27 Q1278.28 1538.71 1278.28 1531.6 Q1278.28 1524.47 1276.45 1520.93 Q1274.64 1517.37 1271.01 1517.37 M1271.01 1513.66 Q1276.82 1513.66 1279.87 1518.27 Q1282.95 1522.85 1282.95 1531.6 Q1282.95 1540.33 1279.87 1544.94 Q1276.82 1549.52 1271.01 1549.52 Q1265.2 1549.52 1262.12 1544.94 Q1259.06 1540.33 1259.06 1531.6 Q1259.06 1522.85 1262.12 1518.27 Q1265.2 1513.66 1271.01 1513.66 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M1736.37 1514.29 L1758.59 1514.29 L1758.59 1516.28 L1746.05 1548.85 L1741.16 1548.85 L1752.97 1518.22 L1736.37 1518.22 L1736.37 1514.29 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M1767.71 1542.97 L1772.6 1542.97 L1772.6 1548.85 L1767.71 1548.85 L1767.71 1542.97 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M1782.83 1514.29 L1801.18 1514.29 L1801.18 1518.22 L1787.11 1518.22 L1787.11 1526.7 Q1788.13 1526.35 1789.15 1526.19 Q1790.17 1526 1791.18 1526 Q1796.97 1526 1800.35 1529.17 Q1803.73 1532.34 1803.73 1537.76 Q1803.73 1543.34 1800.26 1546.44 Q1796.79 1549.52 1790.47 1549.52 Q1788.29 1549.52 1786.02 1549.15 Q1783.78 1548.78 1781.37 1548.04 L1781.37 1543.34 Q1783.45 1544.47 1785.67 1545.03 Q1787.9 1545.58 1790.37 1545.58 Q1794.38 1545.58 1796.72 1543.48 Q1799.05 1541.37 1799.05 1537.76 Q1799.05 1534.15 1796.72 1532.04 Q1794.38 1529.94 1790.37 1529.94 Q1788.5 1529.94 1786.62 1530.35 Q1784.77 1530.77 1782.83 1531.65 L1782.83 1514.29 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M2243.51 1544.91 L2251.15 1544.91 L2251.15 1518.55 L2242.84 1520.21 L2242.84 1515.95 L2251.1 1514.29 L2255.78 1514.29 L2255.78 1544.91 L2263.42 1544.91 L2263.42 1548.85 L2243.51 1548.85 L2243.51 1544.91 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M2282.86 1517.37 Q2279.25 1517.37 2277.42 1520.93 Q2275.62 1524.47 2275.62 1531.6 Q2275.62 1538.71 2277.42 1542.27 Q2279.25 1545.82 2282.86 1545.82 Q2286.5 1545.82 2288.3 1542.27 Q2290.13 1538.71 2290.13 1531.6 Q2290.13 1524.47 2288.3 1520.93 Q2286.5 1517.37 2282.86 1517.37 M2282.86 1513.66 Q2288.67 1513.66 2291.73 1518.27 Q2294.81 1522.85 2294.81 1531.6 Q2294.81 1540.33 2291.73 1544.94 Q2288.67 1549.52 2282.86 1549.52 Q2277.05 1549.52 2273.98 1544.94 Q2270.92 1540.33 2270.92 1531.6 Q2270.92 1522.85 2273.98 1518.27 Q2277.05 1513.66 2282.86 1513.66 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M2303.03 1542.97 L2307.91 1542.97 L2307.91 1548.85 L2303.03 1548.85 L2303.03 1542.97 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M2328.1 1517.37 Q2324.48 1517.37 2322.66 1520.93 Q2320.85 1524.47 2320.85 1531.6 Q2320.85 1538.71 2322.66 1542.27 Q2324.48 1545.82 2328.1 1545.82 Q2331.73 1545.82 2333.54 1542.27 Q2335.36 1538.71 2335.36 1531.6 Q2335.36 1524.47 2333.54 1520.93 Q2331.73 1517.37 2328.1 1517.37 M2328.1 1513.66 Q2333.91 1513.66 2336.96 1518.27 Q2340.04 1522.85 2340.04 1531.6 Q2340.04 1540.33 2336.96 1544.94 Q2333.91 1549.52 2328.1 1549.52 Q2322.29 1549.52 2319.21 1544.94 Q2316.15 1540.33 2316.15 1531.6 Q2316.15 1522.85 2319.21 1518.27 Q2322.29 1513.66 2328.1 1513.66 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><polyline clip-path=\"url(#clip200)\" style=\"stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none\" points=\"186.274,1486.45 186.274,123.472 \"/>\n<polyline clip-path=\"url(#clip200)\" style=\"stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none\" points=\"186.274,1228.44 205.172,1228.44 \"/>\n<polyline clip-path=\"url(#clip200)\" style=\"stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none\" points=\"186.274,968.47 205.172,968.47 \"/>\n<polyline clip-path=\"url(#clip200)\" style=\"stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none\" points=\"186.274,708.503 205.172,708.503 \"/>\n<polyline clip-path=\"url(#clip200)\" style=\"stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none\" points=\"186.274,448.536 205.172,448.536 \"/>\n<polyline clip-path=\"url(#clip200)\" style=\"stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none\" points=\"186.274,188.569 205.172,188.569 \"/>\n<path clip-path=\"url(#clip200)\" d=\"M62.9365 1214.24 Q59.3254 1214.24 57.4967 1217.8 Q55.6912 1221.34 55.6912 1228.47 Q55.6912 1235.58 57.4967 1239.14 Q59.3254 1242.68 62.9365 1242.68 Q66.5707 1242.68 68.3763 1239.14 Q70.205 1235.58 70.205 1228.47 Q70.205 1221.34 68.3763 1217.8 Q66.5707 1214.24 62.9365 1214.24 M62.9365 1210.53 Q68.7467 1210.53 71.8022 1215.14 Q74.8809 1219.72 74.8809 1228.47 Q74.8809 1237.2 71.8022 1241.81 Q68.7467 1246.39 62.9365 1246.39 Q57.1264 1246.39 54.0477 1241.81 Q50.9921 1237.2 50.9921 1228.47 Q50.9921 1219.72 54.0477 1215.14 Q57.1264 1210.53 62.9365 1210.53 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M83.0984 1239.84 L87.9827 1239.84 L87.9827 1245.72 L83.0984 1245.72 L83.0984 1239.84 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M108.168 1214.24 Q104.557 1214.24 102.728 1217.8 Q100.922 1221.34 100.922 1228.47 Q100.922 1235.58 102.728 1239.14 Q104.557 1242.68 108.168 1242.68 Q111.802 1242.68 113.608 1239.14 Q115.436 1235.58 115.436 1228.47 Q115.436 1221.34 113.608 1217.8 Q111.802 1214.24 108.168 1214.24 M108.168 1210.53 Q113.978 1210.53 117.033 1215.14 Q120.112 1219.72 120.112 1228.47 Q120.112 1237.2 117.033 1241.81 Q113.978 1246.39 108.168 1246.39 Q102.358 1246.39 99.2789 1241.81 Q96.2234 1237.2 96.2234 1228.47 Q96.2234 1219.72 99.2789 1215.14 Q102.358 1210.53 108.168 1210.53 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M138.33 1214.24 Q134.719 1214.24 132.89 1217.8 Q131.084 1221.34 131.084 1228.47 Q131.084 1235.58 132.89 1239.14 Q134.719 1242.68 138.33 1242.68 Q141.964 1242.68 143.769 1239.14 Q145.598 1235.58 145.598 1228.47 Q145.598 1221.34 143.769 1217.8 Q141.964 1214.24 138.33 1214.24 M138.33 1210.53 Q144.14 1210.53 147.195 1215.14 Q150.274 1219.72 150.274 1228.47 Q150.274 1237.2 147.195 1241.81 Q144.14 1246.39 138.33 1246.39 Q132.519 1246.39 129.441 1241.81 Q126.385 1237.2 126.385 1228.47 Q126.385 1219.72 129.441 1215.14 Q132.519 1210.53 138.33 1210.53 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M63.9319 954.269 Q60.3208 954.269 58.4921 957.834 Q56.6865 961.375 56.6865 968.505 Q56.6865 975.611 58.4921 979.176 Q60.3208 982.718 63.9319 982.718 Q67.5661 982.718 69.3717 979.176 Q71.2004 975.611 71.2004 968.505 Q71.2004 961.375 69.3717 957.834 Q67.5661 954.269 63.9319 954.269 M63.9319 950.565 Q69.742 950.565 72.7976 955.171 Q75.8763 959.755 75.8763 968.505 Q75.8763 977.232 72.7976 981.838 Q69.742 986.421 63.9319 986.421 Q58.1217 986.421 55.043 981.838 Q51.9875 977.232 51.9875 968.505 Q51.9875 959.755 55.043 955.171 Q58.1217 950.565 63.9319 950.565 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M84.0938 979.87 L88.978 979.87 L88.978 985.75 L84.0938 985.75 L84.0938 979.87 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M103.191 981.815 L119.51 981.815 L119.51 985.75 L97.566 985.75 L97.566 981.815 Q100.228 979.06 104.811 974.431 Q109.418 969.778 110.598 968.435 Q112.844 965.912 113.723 964.176 Q114.626 962.417 114.626 960.727 Q114.626 957.972 112.682 956.236 Q110.76 954.5 107.658 954.5 Q105.459 954.5 103.006 955.264 Q100.575 956.028 97.7974 957.579 L97.7974 952.857 Q100.621 951.722 103.075 951.144 Q105.529 950.565 107.566 950.565 Q112.936 950.565 116.131 953.25 Q119.325 955.935 119.325 960.426 Q119.325 962.556 118.515 964.477 Q117.728 966.375 115.621 968.968 Q115.043 969.639 111.941 972.857 Q108.839 976.051 103.191 981.815 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M129.371 951.19 L147.728 951.19 L147.728 955.125 L133.654 955.125 L133.654 963.597 Q134.672 963.25 135.691 963.088 Q136.709 962.903 137.728 962.903 Q143.515 962.903 146.894 966.074 Q150.274 969.245 150.274 974.662 Q150.274 980.241 146.802 983.343 Q143.33 986.421 137.01 986.421 Q134.834 986.421 132.566 986.051 Q130.32 985.681 127.913 984.94 L127.913 980.241 Q129.996 981.375 132.219 981.931 Q134.441 982.486 136.918 982.486 Q140.922 982.486 143.26 980.38 Q145.598 978.273 145.598 974.662 Q145.598 971.051 143.26 968.945 Q140.922 966.838 136.918 966.838 Q135.043 966.838 133.168 967.255 Q131.316 967.671 129.371 968.551 L129.371 951.19 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M62.9365 694.302 Q59.3254 694.302 57.4967 697.866 Q55.6912 701.408 55.6912 708.538 Q55.6912 715.644 57.4967 719.209 Q59.3254 722.751 62.9365 722.751 Q66.5707 722.751 68.3763 719.209 Q70.205 715.644 70.205 708.538 Q70.205 701.408 68.3763 697.866 Q66.5707 694.302 62.9365 694.302 M62.9365 690.598 Q68.7467 690.598 71.8022 695.204 Q74.8809 699.788 74.8809 708.538 Q74.8809 717.264 71.8022 721.871 Q68.7467 726.454 62.9365 726.454 Q57.1264 726.454 54.0477 721.871 Q50.9921 717.264 50.9921 708.538 Q50.9921 699.788 54.0477 695.204 Q57.1264 690.598 62.9365 690.598 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M83.0984 719.903 L87.9827 719.903 L87.9827 725.783 L83.0984 725.783 L83.0984 719.903 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M98.2141 691.223 L116.57 691.223 L116.57 695.158 L102.496 695.158 L102.496 703.63 Q103.515 703.283 104.534 703.121 Q105.552 702.936 106.571 702.936 Q112.358 702.936 115.737 706.107 Q119.117 709.278 119.117 714.695 Q119.117 720.274 115.645 723.376 Q112.172 726.454 105.853 726.454 Q103.677 726.454 101.409 726.084 Q99.1632 725.714 96.7558 724.973 L96.7558 720.274 Q98.8391 721.408 101.061 721.964 Q103.284 722.519 105.76 722.519 Q109.765 722.519 112.103 720.413 Q114.441 718.306 114.441 714.695 Q114.441 711.084 112.103 708.977 Q109.765 706.871 105.76 706.871 Q103.885 706.871 102.01 707.288 Q100.159 707.704 98.2141 708.584 L98.2141 691.223 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M138.33 694.302 Q134.719 694.302 132.89 697.866 Q131.084 701.408 131.084 708.538 Q131.084 715.644 132.89 719.209 Q134.719 722.751 138.33 722.751 Q141.964 722.751 143.769 719.209 Q145.598 715.644 145.598 708.538 Q145.598 701.408 143.769 697.866 Q141.964 694.302 138.33 694.302 M138.33 690.598 Q144.14 690.598 147.195 695.204 Q150.274 699.788 150.274 708.538 Q150.274 717.264 147.195 721.871 Q144.14 726.454 138.33 726.454 Q132.519 726.454 129.441 721.871 Q126.385 717.264 126.385 708.538 Q126.385 699.788 129.441 695.204 Q132.519 690.598 138.33 690.598 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M63.9319 434.335 Q60.3208 434.335 58.4921 437.899 Q56.6865 441.441 56.6865 448.571 Q56.6865 455.677 58.4921 459.242 Q60.3208 462.784 63.9319 462.784 Q67.5661 462.784 69.3717 459.242 Q71.2004 455.677 71.2004 448.571 Q71.2004 441.441 69.3717 437.899 Q67.5661 434.335 63.9319 434.335 M63.9319 430.631 Q69.742 430.631 72.7976 435.237 Q75.8763 439.821 75.8763 448.571 Q75.8763 457.297 72.7976 461.904 Q69.742 466.487 63.9319 466.487 Q58.1217 466.487 55.043 461.904 Q51.9875 457.297 51.9875 448.571 Q51.9875 439.821 55.043 435.237 Q58.1217 430.631 63.9319 430.631 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M84.0938 459.936 L88.978 459.936 L88.978 465.816 L84.0938 465.816 L84.0938 459.936 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M97.9826 431.256 L120.205 431.256 L120.205 433.247 L107.658 465.816 L102.774 465.816 L114.58 435.191 L97.9826 435.191 L97.9826 431.256 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M129.371 431.256 L147.728 431.256 L147.728 435.191 L133.654 435.191 L133.654 443.663 Q134.672 443.316 135.691 443.154 Q136.709 442.969 137.728 442.969 Q143.515 442.969 146.894 446.14 Q150.274 449.311 150.274 454.728 Q150.274 460.307 146.802 463.409 Q143.33 466.487 137.01 466.487 Q134.834 466.487 132.566 466.117 Q130.32 465.746 127.913 465.006 L127.913 460.307 Q129.996 461.441 132.219 461.996 Q134.441 462.552 136.918 462.552 Q140.922 462.552 143.26 460.446 Q145.598 458.339 145.598 454.728 Q145.598 451.117 143.26 449.01 Q140.922 446.904 136.918 446.904 Q135.043 446.904 133.168 447.321 Q131.316 447.737 129.371 448.617 L129.371 431.256 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M53.7467 201.914 L61.3856 201.914 L61.3856 175.548 L53.0754 177.215 L53.0754 172.955 L61.3393 171.289 L66.0152 171.289 L66.0152 201.914 L73.654 201.914 L73.654 205.849 L53.7467 205.849 L53.7467 201.914 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M83.0984 199.969 L87.9827 199.969 L87.9827 205.849 L83.0984 205.849 L83.0984 199.969 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M108.168 174.368 Q104.557 174.368 102.728 177.932 Q100.922 181.474 100.922 188.604 Q100.922 195.71 102.728 199.275 Q104.557 202.816 108.168 202.816 Q111.802 202.816 113.608 199.275 Q115.436 195.71 115.436 188.604 Q115.436 181.474 113.608 177.932 Q111.802 174.368 108.168 174.368 M108.168 170.664 Q113.978 170.664 117.033 175.27 Q120.112 179.854 120.112 188.604 Q120.112 197.33 117.033 201.937 Q113.978 206.52 108.168 206.52 Q102.358 206.52 99.2789 201.937 Q96.2234 197.33 96.2234 188.604 Q96.2234 179.854 99.2789 175.27 Q102.358 170.664 108.168 170.664 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M138.33 174.368 Q134.719 174.368 132.89 177.932 Q131.084 181.474 131.084 188.604 Q131.084 195.71 132.89 199.275 Q134.719 202.816 138.33 202.816 Q141.964 202.816 143.769 199.275 Q145.598 195.71 145.598 188.604 Q145.598 181.474 143.769 177.932 Q141.964 174.368 138.33 174.368 M138.33 170.664 Q144.14 170.664 147.195 175.27 Q150.274 179.854 150.274 188.604 Q150.274 197.33 147.195 201.937 Q144.14 206.52 138.33 206.52 Q132.519 206.52 129.441 201.937 Q126.385 197.33 126.385 188.604 Q126.385 179.854 129.441 175.27 Q132.519 170.664 138.33 170.664 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M1196.15 12.096 L1234.39 12.096 L1234.39 18.9825 L1204.34 18.9825 L1204.34 36.8875 L1233.14 36.8875 L1233.14 43.7741 L1204.34 43.7741 L1204.34 65.6895 L1235.12 65.6895 L1235.12 72.576 L1196.15 72.576 L1196.15 12.096 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M1248.57 12.096 L1256.75 12.096 L1256.75 37.6572 L1283.9 12.096 L1294.43 12.096 L1264.41 40.2903 L1296.57 72.576 L1285.8 72.576 L1256.75 43.45 L1256.75 72.576 L1248.57 72.576 L1248.57 12.096 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M1339.23 14.0809 L1339.23 22.0612 Q1334.57 19.8332 1330.44 18.7395 Q1326.31 17.6457 1322.46 17.6457 Q1315.78 17.6457 1312.13 20.2383 Q1308.53 22.8309 1308.53 27.611 Q1308.53 31.6214 1310.92 33.6873 Q1313.35 35.7128 1320.07 36.9686 L1325.01 37.9813 Q1334.17 39.7232 1338.5 44.1387 Q1342.88 48.5136 1342.88 55.8863 Q1342.88 64.6767 1336.96 69.2137 Q1331.09 73.7508 1319.71 73.7508 Q1315.41 73.7508 1310.55 72.7785 Q1305.73 71.8063 1300.54 69.9024 L1300.54 61.4765 Q1305.53 64.2716 1310.31 65.6895 Q1315.09 67.1073 1319.71 67.1073 Q1326.71 67.1073 1330.52 64.3527 Q1334.33 61.598 1334.33 56.4939 Q1334.33 52.0379 1331.57 49.5264 Q1328.86 47.0148 1322.62 45.759 L1317.64 44.7868 Q1308.48 42.9639 1304.39 39.075 Q1300.3 35.1862 1300.3 28.2591 Q1300.3 20.2383 1305.93 15.6203 Q1311.6 11.0023 1321.53 11.0023 Q1325.78 11.0023 1330.2 11.7719 Q1334.61 12.5416 1339.23 14.0809 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><polyline clip-path=\"url(#clip202)\" style=\"stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:8; stroke-opacity:1; fill:none\" points=\"247.59,207.143 289.301,248.081 331.012,285.585 372.723,323.454 414.434,358.939 456.146,393.033 497.857,425.789 539.568,457.262 581.279,487.5 622.991,516.553 664.702,544.466 706.413,571.285 748.124,597.052 789.836,621.809 831.547,645.595 873.258,668.449 914.969,690.406 956.681,711.503 998.392,731.772 1040.1,751.247 1081.81,769.957 1123.53,787.935 1165.24,805.207 1206.95,821.802 1248.66,837.747 1290.37,853.066 1332.08,867.784 1373.79,881.926 1415.5,895.513 1457.22,908.567 1498.93,921.109 1540.64,933.16 1582.35,944.738 1624.06,955.862 1665.77,966.549 1707.48,976.818 1749.19,986.684 1790.91,996.164 1832.62,1005.27 1874.33,1014.02 1916.04,1022.43 1957.75,1030.51 1999.46,1038.27 2041.17,1045.72 2082.88,1052.89 2124.6,1059.77 2166.31,1066.39 2208.02,1072.74 2249.73,1078.84 2291.44,1084.71 \"/>\n<path clip-path=\"url(#clip202)\" d=\"M247.59 275.954 L289.301 454.95 L331.012 600.804 L372.723 731.694 L414.434 840.693 L456.146 933.857 L497.857 1013.48 L539.568 1081.51 L581.279 1139.61 L622.991 1189.21 L664.702 1231.52 L706.413 1267.58 L748.124 1298.28 L789.836 1324.36 L831.547 1346.49 L873.258 1365.22 L914.969 1381.02 L956.681 1394.31 L998.392 1405.44 L1040.1 1414.7 L1081.81 1422.37 L1123.53 1428.66 L1165.24 1433.77 L1206.95 1437.86 L1248.66 1441.08 L1290.37 1443.54 L1332.08 1445.36 L1373.79 1446.63 L1415.5 1447.43 L1457.22 1447.82 L1498.93 1447.87 L1540.64 1447.63 L1582.35 1447.14 L1624.06 1446.44 L1665.77 1445.56 L1707.48 1444.54 L1749.19 1443.39 L1790.91 1442.14 L1832.62 1440.81 L1874.33 1439.42 L1916.04 1437.97 L1957.75 1436.49 L1999.46 1434.97 L2041.17 1433.44 L2082.88 1431.89 L2124.6 1430.33 L2166.31 1428.78 L2208.02 1427.23 L2249.73 1425.69 L2291.44 1424.16 L2291.44 930.457 L2249.73 925.579 L2208.02 920.511 L2166.31 915.245 L2124.6 909.768 L2082.88 904.073 L2041.17 898.145 L1999.46 891.975 L1957.75 885.548 L1916.04 878.851 L1874.33 871.87 L1832.62 864.59 L1790.91 856.994 L1749.19 849.065 L1707.48 840.785 L1665.77 832.135 L1624.06 823.095 L1582.35 813.642 L1540.64 803.754 L1498.93 793.407 L1457.22 782.575 L1415.5 771.232 L1373.79 759.351 L1332.08 746.902 L1290.37 733.855 L1248.66 720.179 L1206.95 705.842 L1165.24 690.811 L1123.53 675.055 L1081.81 658.54 L1040.1 641.236 L998.392 623.113 L956.681 604.143 L914.969 584.303 L873.258 563.577 L831.547 541.955 L789.836 519.436 L748.124 496.035 L706.413 471.782 L664.702 446.73 L622.991 420.96 L581.279 394.585 L539.568 367.765 L497.857 340.713 L456.146 313.709 L414.434 287.118 L372.723 261.406 L331.012 236.577 L289.301 215.15 L247.59 195.927  Z\" fill=\"#808080\" fill-rule=\"evenodd\" fill-opacity=\"0.5\"/>\n<polyline clip-path=\"url(#clip202)\" style=\"stroke:#808080; stroke-linecap:round; stroke-linejoin:round; stroke-width:8; stroke-opacity:0.5; fill:none\" stroke-dasharray=\"32, 20\" points=\"247.59,235.94 289.301,335.05 331.012,418.69 372.723,496.55 414.434,563.906 456.146,623.783 497.857,677.095 539.568,724.636 581.279,767.098 622.991,805.086 664.702,839.127 706.413,869.683 748.124,897.156 789.836,921.899 831.547,944.222 873.258,964.396 914.969,982.661 956.681,999.225 998.392,1014.27 1040.1,1027.97 1081.81,1040.46 1123.53,1051.86 1165.24,1062.29 1206.95,1071.85 1248.66,1080.63 1290.37,1088.7 1332.08,1096.13 1373.79,1102.99 1415.5,1109.33 1457.22,1115.2 1498.93,1120.64 1540.64,1125.69 1582.35,1130.39 1624.06,1134.77 1665.77,1138.85 1707.48,1142.66 1749.19,1146.23 1790.91,1149.57 1832.62,1152.7 1874.33,1155.64 1916.04,1158.41 1957.75,1161.02 1999.46,1163.47 2041.17,1165.79 2082.88,1167.98 2124.6,1170.05 2166.31,1172.01 2208.02,1173.87 2249.73,1175.63 2291.44,1177.31 \"/>\n<path clip-path=\"url(#clip202)\" d=\"M247.59 208.624 L289.301 252.736 L331.012 293.021 L372.723 333.568 L414.434 371.441 L456.146 407.713 L497.857 442.452 L539.568 475.723 L581.279 507.587 L622.991 538.105 L664.702 567.333 L706.413 595.325 L748.124 622.133 L789.836 647.809 L831.547 672.398 L873.258 695.948 L914.969 718.502 L956.681 740.102 L998.392 760.789 L1040.1 780.601 L1081.81 799.575 L1123.53 817.746 L1165.24 835.148 L1206.95 851.815 L1248.66 867.776 L1290.37 883.062 L1332.08 897.701 L1373.79 911.72 L1415.5 925.147 L1457.22 938.005 L1498.93 950.319 L1540.64 962.112 L1582.35 973.405 L1624.06 984.221 L1665.77 994.578 L1707.48 1004.5 L1749.19 1014 L1790.91 1023.09 L1832.62 1031.81 L1874.33 1040.15 L1916.04 1048.14 L1957.75 1055.79 L1999.46 1063.12 L2041.17 1070.13 L2082.88 1076.85 L2124.6 1083.29 L2166.31 1089.45 L2208.02 1095.35 L2249.73 1101 L2291.44 1106.41 L2291.44 1080.28 L2249.73 1074.32 L2208.02 1068.12 L2166.31 1061.67 L2124.6 1054.96 L2082.88 1047.98 L2041.17 1040.73 L1999.46 1033.18 L1957.75 1025.32 L1916.04 1017.16 L1874.33 1008.66 L1832.62 999.822 L1790.91 990.63 L1749.19 981.069 L1707.48 971.124 L1665.77 960.78 L1624.06 950.021 L1582.35 938.83 L1540.64 927.189 L1498.93 915.082 L1457.22 902.489 L1415.5 889.391 L1373.79 875.767 L1332.08 861.597 L1290.37 846.858 L1248.66 831.528 L1206.95 815.583 L1165.24 798.999 L1123.53 781.75 L1081.81 763.809 L1040.1 745.149 L998.392 725.741 L956.681 705.554 L914.969 684.559 L873.258 662.722 L831.547 640.01 L789.836 616.388 L748.124 591.819 L706.413 566.266 L664.702 539.689 L622.991 512.047 L581.279 483.298 L539.568 453.398 L497.857 422.3 L456.146 389.956 L414.434 356.317 L372.723 321.332 L331.012 284.024 L289.301 247.103 L247.59 206.832  Z\" fill=\"#0000ff\" fill-rule=\"evenodd\" fill-opacity=\"0.5\"/>\n<polyline clip-path=\"url(#clip202)\" style=\"stroke:#0000ff; stroke-linecap:round; stroke-linejoin:round; stroke-width:8; stroke-opacity:0.7; fill:none\" stroke-dasharray=\"32, 20\" points=\"247.59,207.728 289.301,249.92 331.012,288.522 372.723,327.45 414.434,363.879 456.146,398.834 497.857,432.376 539.568,464.56 581.279,495.443 622.991,525.076 664.702,553.511 706.413,580.795 748.124,606.976 789.836,632.098 831.547,656.204 873.258,679.335 914.969,701.531 956.681,722.828 998.392,743.265 1040.1,762.875 1081.81,781.692 1123.53,799.748 1165.24,817.074 1206.95,833.699 1248.66,849.652 1290.37,864.96 1332.08,879.649 1373.79,893.744 1415.5,907.269 1457.22,920.247 1498.93,932.701 1540.64,944.651 1582.35,956.117 1624.06,967.121 1665.77,977.679 1707.48,987.811 1749.19,997.533 1790.91,1006.86 1832.62,1015.81 1874.33,1024.4 1916.04,1032.65 1957.75,1040.56 1999.46,1048.15 2041.17,1055.43 2082.88,1062.42 2124.6,1069.12 2166.31,1075.56 2208.02,1081.73 2249.73,1087.66 2291.44,1093.35 \"/>\n<circle clip-path=\"url(#clip202)\" cx=\"247.59\" cy=\"162.047\" r=\"14.4\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<circle clip-path=\"url(#clip202)\" cx=\"289.301\" cy=\"294.966\" r=\"14.4\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<circle clip-path=\"url(#clip202)\" cx=\"331.012\" cy=\"311.295\" r=\"14.4\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<circle clip-path=\"url(#clip202)\" cx=\"372.723\" cy=\"370.4\" r=\"14.4\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<circle clip-path=\"url(#clip202)\" cx=\"414.434\" cy=\"313.996\" r=\"14.4\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<circle clip-path=\"url(#clip202)\" cx=\"456.146\" cy=\"278.03\" r=\"14.4\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<circle clip-path=\"url(#clip202)\" cx=\"497.857\" cy=\"398.087\" r=\"14.4\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<circle clip-path=\"url(#clip202)\" cx=\"539.568\" cy=\"471.39\" r=\"14.4\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<circle clip-path=\"url(#clip202)\" cx=\"581.279\" cy=\"461.382\" r=\"14.4\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<circle clip-path=\"url(#clip202)\" cx=\"622.991\" cy=\"543.432\" r=\"14.4\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<circle clip-path=\"url(#clip202)\" cx=\"664.702\" cy=\"573.608\" r=\"14.4\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<circle clip-path=\"url(#clip202)\" cx=\"706.413\" cy=\"572.288\" r=\"14.4\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<circle clip-path=\"url(#clip202)\" cx=\"748.124\" cy=\"590.394\" r=\"14.4\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<circle clip-path=\"url(#clip202)\" cx=\"789.836\" cy=\"525.477\" r=\"14.4\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<circle clip-path=\"url(#clip202)\" cx=\"831.547\" cy=\"688.634\" r=\"14.4\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<circle clip-path=\"url(#clip202)\" cx=\"873.258\" cy=\"662.725\" r=\"14.4\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<circle clip-path=\"url(#clip202)\" cx=\"914.969\" cy=\"703.466\" r=\"14.4\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<circle clip-path=\"url(#clip202)\" cx=\"956.681\" cy=\"692.28\" r=\"14.4\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<circle clip-path=\"url(#clip202)\" cx=\"998.392\" cy=\"728.022\" r=\"14.4\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<circle clip-path=\"url(#clip202)\" cx=\"1040.1\" cy=\"829.415\" r=\"14.4\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<circle clip-path=\"url(#clip202)\" cx=\"1081.81\" cy=\"688.631\" r=\"14.4\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<circle clip-path=\"url(#clip202)\" cx=\"1123.53\" cy=\"860.556\" r=\"14.4\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<circle clip-path=\"url(#clip202)\" cx=\"1165.24\" cy=\"747.728\" r=\"14.4\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<circle clip-path=\"url(#clip202)\" cx=\"1206.95\" cy=\"879.345\" r=\"14.4\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<circle clip-path=\"url(#clip202)\" cx=\"1248.66\" cy=\"1004.72\" r=\"14.4\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<circle clip-path=\"url(#clip202)\" cx=\"1290.37\" cy=\"856.914\" r=\"14.4\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<circle clip-path=\"url(#clip202)\" cx=\"1332.08\" cy=\"859.935\" r=\"14.4\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<circle clip-path=\"url(#clip202)\" cx=\"1373.79\" cy=\"841.928\" r=\"14.4\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<circle clip-path=\"url(#clip202)\" cx=\"1415.5\" cy=\"911.638\" r=\"14.4\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<circle clip-path=\"url(#clip202)\" cx=\"1457.22\" cy=\"939.904\" r=\"14.4\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<circle clip-path=\"url(#clip202)\" cx=\"1498.93\" cy=\"987.644\" r=\"14.4\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<circle clip-path=\"url(#clip202)\" cx=\"1540.64\" cy=\"881.306\" r=\"14.4\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<circle clip-path=\"url(#clip202)\" cx=\"1582.35\" cy=\"929.014\" r=\"14.4\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<circle clip-path=\"url(#clip202)\" cx=\"1624.06\" cy=\"957.756\" r=\"14.4\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<circle clip-path=\"url(#clip202)\" cx=\"1665.77\" cy=\"959.168\" r=\"14.4\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<circle clip-path=\"url(#clip202)\" cx=\"1707.48\" cy=\"949.715\" r=\"14.4\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<circle clip-path=\"url(#clip202)\" cx=\"1749.19\" cy=\"940.059\" r=\"14.4\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<circle clip-path=\"url(#clip202)\" cx=\"1790.91\" cy=\"1022.86\" r=\"14.4\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<circle clip-path=\"url(#clip202)\" cx=\"1832.62\" cy=\"1045.04\" r=\"14.4\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<circle clip-path=\"url(#clip202)\" cx=\"1874.33\" cy=\"1094.17\" r=\"14.4\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<circle clip-path=\"url(#clip202)\" cx=\"1916.04\" cy=\"1026.6\" r=\"14.4\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<circle clip-path=\"url(#clip202)\" cx=\"1957.75\" cy=\"1087.24\" r=\"14.4\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<circle clip-path=\"url(#clip202)\" cx=\"1999.46\" cy=\"1068.45\" r=\"14.4\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<circle clip-path=\"url(#clip202)\" cx=\"2041.17\" cy=\"1062.12\" r=\"14.4\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<circle clip-path=\"url(#clip202)\" cx=\"2082.88\" cy=\"1123.67\" r=\"14.4\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<circle clip-path=\"url(#clip202)\" cx=\"2124.6\" cy=\"1065.72\" r=\"14.4\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<circle clip-path=\"url(#clip202)\" cx=\"2166.31\" cy=\"1057.76\" r=\"14.4\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<circle clip-path=\"url(#clip202)\" cx=\"2208.02\" cy=\"1093.98\" r=\"14.4\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<circle clip-path=\"url(#clip202)\" cx=\"2249.73\" cy=\"1131.35\" r=\"14.4\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<circle clip-path=\"url(#clip202)\" cx=\"2291.44\" cy=\"1112.98\" r=\"14.4\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<path clip-path=\"url(#clip200)\" d=\"M1620.33 428.105 L2280.54 428.105 L2280.54 168.905 L1620.33 168.905  Z\" fill=\"#ffffff\" fill-rule=\"evenodd\" fill-opacity=\"1\"/>\n<polyline clip-path=\"url(#clip200)\" style=\"stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none\" points=\"1620.33,428.105 2280.54,428.105 2280.54,168.905 1620.33,168.905 1620.33,428.105 \"/>\n<polyline clip-path=\"url(#clip200)\" style=\"stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:8; stroke-opacity:1; fill:none\" points=\"1644.4,220.745 1788.83,220.745 \"/>\n<path clip-path=\"url(#clip200)\" d=\"M1812.91 203.465 L1842.14 203.465 L1842.14 207.4 L1829.87 207.4 L1829.87 238.025 L1825.17 238.025 L1825.17 207.4 L1812.91 207.4 L1812.91 203.465 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M1854.53 216.08 Q1853.81 215.664 1852.95 215.478 Q1852.12 215.27 1851.1 215.27 Q1847.49 215.27 1845.54 217.631 Q1843.62 219.969 1843.62 224.367 L1843.62 238.025 L1839.34 238.025 L1839.34 212.099 L1843.62 212.099 L1843.62 216.127 Q1844.97 213.766 1847.12 212.631 Q1849.27 211.474 1852.35 211.474 Q1852.79 211.474 1853.32 211.543 Q1853.85 211.59 1854.5 211.705 L1854.53 216.08 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M1858.55 227.793 L1858.55 212.099 L1862.81 212.099 L1862.81 227.631 Q1862.81 231.312 1864.25 233.164 Q1865.68 234.992 1868.55 234.992 Q1872 234.992 1873.99 232.793 Q1876.01 230.594 1876.01 226.798 L1876.01 212.099 L1880.27 212.099 L1880.27 238.025 L1876.01 238.025 L1876.01 234.043 Q1874.46 236.404 1872.4 237.562 Q1870.36 238.696 1867.65 238.696 Q1863.18 238.696 1860.87 235.918 Q1858.55 233.14 1858.55 227.793 M1869.27 211.474 L1869.27 211.474 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M1911.22 223.997 L1911.22 226.08 L1891.63 226.08 Q1891.91 230.478 1894.27 232.793 Q1896.65 235.085 1900.89 235.085 Q1903.34 235.085 1905.64 234.483 Q1907.95 233.881 1910.22 232.677 L1910.22 236.705 Q1907.93 237.677 1905.52 238.187 Q1903.11 238.696 1900.64 238.696 Q1894.43 238.696 1890.8 235.085 Q1887.19 231.474 1887.19 225.316 Q1887.19 218.951 1890.61 215.224 Q1894.06 211.474 1899.9 211.474 Q1905.13 211.474 1908.16 214.853 Q1911.22 218.21 1911.22 223.997 M1906.96 222.747 Q1906.91 219.252 1904.99 217.168 Q1903.09 215.085 1899.94 215.085 Q1896.38 215.085 1894.22 217.099 Q1892.09 219.113 1891.77 222.77 L1906.96 222.747 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M1949.8 212.863 L1949.8 216.891 Q1948 215.965 1946.05 215.502 Q1944.11 215.039 1942.03 215.039 Q1938.85 215.039 1937.26 216.011 Q1935.68 216.983 1935.68 218.928 Q1935.68 220.409 1936.82 221.265 Q1937.95 222.099 1941.38 222.863 L1942.84 223.187 Q1947.37 224.159 1949.27 225.941 Q1951.19 227.701 1951.19 230.872 Q1951.19 234.483 1948.32 236.589 Q1945.47 238.696 1940.47 238.696 Q1938.39 238.696 1936.12 238.279 Q1933.88 237.886 1931.38 237.076 L1931.38 232.677 Q1933.74 233.904 1936.03 234.529 Q1938.32 235.131 1940.57 235.131 Q1943.58 235.131 1945.2 234.113 Q1946.82 233.071 1946.82 231.196 Q1946.82 229.46 1945.64 228.534 Q1944.48 227.608 1940.52 226.752 L1939.04 226.404 Q1935.08 225.571 1933.32 223.858 Q1931.56 222.122 1931.56 219.113 Q1931.56 215.455 1934.15 213.465 Q1936.75 211.474 1941.52 211.474 Q1943.88 211.474 1945.96 211.821 Q1948.04 212.168 1949.8 212.863 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M1968.02 215.085 Q1964.59 215.085 1962.6 217.77 Q1960.61 220.432 1960.61 225.085 Q1960.61 229.738 1962.58 232.423 Q1964.57 235.085 1968.02 235.085 Q1971.42 235.085 1973.41 232.4 Q1975.4 229.715 1975.4 225.085 Q1975.4 220.478 1973.41 217.793 Q1971.42 215.085 1968.02 215.085 M1968.02 211.474 Q1973.58 211.474 1976.75 215.085 Q1979.92 218.696 1979.92 225.085 Q1979.92 231.451 1976.75 235.085 Q1973.58 238.696 1968.02 238.696 Q1962.44 238.696 1959.27 235.085 Q1956.12 231.451 1956.12 225.085 Q1956.12 218.696 1959.27 215.085 Q1962.44 211.474 1968.02 211.474 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M1986.98 202.006 L1991.24 202.006 L1991.24 238.025 L1986.98 238.025 L1986.98 202.006 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M1999.71 227.793 L1999.71 212.099 L2003.97 212.099 L2003.97 227.631 Q2003.97 231.312 2005.4 233.164 Q2006.84 234.992 2009.71 234.992 Q2013.16 234.992 2015.15 232.793 Q2017.16 230.594 2017.16 226.798 L2017.16 212.099 L2021.42 212.099 L2021.42 238.025 L2017.16 238.025 L2017.16 234.043 Q2015.61 236.404 2013.55 237.562 Q2011.52 238.696 2008.81 238.696 Q2004.34 238.696 2002.02 235.918 Q1999.71 233.14 1999.71 227.793 M2010.43 211.474 L2010.43 211.474 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M2034.41 204.738 L2034.41 212.099 L2043.18 212.099 L2043.18 215.409 L2034.41 215.409 L2034.41 229.483 Q2034.41 232.654 2035.27 233.557 Q2036.14 234.46 2038.81 234.46 L2043.18 234.46 L2043.18 238.025 L2038.81 238.025 Q2033.88 238.025 2032 236.196 Q2030.13 234.344 2030.13 229.483 L2030.13 215.409 L2027 215.409 L2027 212.099 L2030.13 212.099 L2030.13 204.738 L2034.41 204.738 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M2048.78 212.099 L2053.04 212.099 L2053.04 238.025 L2048.78 238.025 L2048.78 212.099 M2048.78 202.006 L2053.04 202.006 L2053.04 207.4 L2048.78 207.4 L2048.78 202.006 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M2072 215.085 Q2068.58 215.085 2066.58 217.77 Q2064.59 220.432 2064.59 225.085 Q2064.59 229.738 2066.56 232.423 Q2068.55 235.085 2072 235.085 Q2075.4 235.085 2077.39 232.4 Q2079.39 229.715 2079.39 225.085 Q2079.39 220.478 2077.39 217.793 Q2075.4 215.085 2072 215.085 M2072 211.474 Q2077.56 211.474 2080.73 215.085 Q2083.9 218.696 2083.9 225.085 Q2083.9 231.451 2080.73 235.085 Q2077.56 238.696 2072 238.696 Q2066.42 238.696 2063.25 235.085 Q2060.1 231.451 2060.1 225.085 Q2060.1 218.696 2063.25 215.085 Q2066.42 211.474 2072 211.474 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M2112.51 222.377 L2112.51 238.025 L2108.25 238.025 L2108.25 222.515 Q2108.25 218.835 2106.82 217.006 Q2105.38 215.178 2102.51 215.178 Q2099.06 215.178 2097.07 217.377 Q2095.08 219.576 2095.08 223.372 L2095.08 238.025 L2090.8 238.025 L2090.8 212.099 L2095.08 212.099 L2095.08 216.127 Q2096.61 213.789 2098.67 212.631 Q2100.75 211.474 2103.46 211.474 Q2107.93 211.474 2110.22 214.252 Q2112.51 217.006 2112.51 222.377 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><polyline clip-path=\"url(#clip200)\" style=\"stroke:#808080; stroke-linecap:round; stroke-linejoin:round; stroke-width:8; stroke-opacity:0.5; fill:none\" stroke-dasharray=\"32, 20\" points=\"1644.4,272.585 1788.83,272.585 \"/>\n<path clip-path=\"url(#clip200)\" d=\"M1817.58 259.147 L1817.58 272.133 L1823.46 272.133 Q1826.72 272.133 1828.51 270.443 Q1830.29 268.754 1830.29 265.629 Q1830.29 262.527 1828.51 260.837 Q1826.72 259.147 1823.46 259.147 L1817.58 259.147 M1812.91 255.305 L1823.46 255.305 Q1829.27 255.305 1832.23 257.944 Q1835.22 260.559 1835.22 265.629 Q1835.22 270.744 1832.23 273.36 Q1829.27 275.976 1823.46 275.976 L1817.58 275.976 L1817.58 289.865 L1812.91 289.865 L1812.91 255.305 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M1855.5 267.92 Q1854.78 267.504 1853.92 267.318 Q1853.09 267.11 1852.07 267.11 Q1848.46 267.11 1846.52 269.471 Q1844.6 271.809 1844.6 276.207 L1844.6 289.865 L1840.31 289.865 L1840.31 263.939 L1844.6 263.939 L1844.6 267.967 Q1845.94 265.606 1848.09 264.471 Q1850.24 263.314 1853.32 263.314 Q1853.76 263.314 1854.29 263.383 Q1854.83 263.43 1855.47 263.545 L1855.5 267.92 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M1859.97 263.939 L1864.22 263.939 L1864.22 289.865 L1859.97 289.865 L1859.97 263.939 M1859.97 253.846 L1864.22 253.846 L1864.22 259.24 L1859.97 259.24 L1859.97 253.846 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M1883.18 266.925 Q1879.76 266.925 1877.77 269.61 Q1875.78 272.272 1875.78 276.925 Q1875.78 281.578 1877.74 284.263 Q1879.73 286.925 1883.18 286.925 Q1886.59 286.925 1888.58 284.24 Q1890.57 281.555 1890.57 276.925 Q1890.57 272.318 1888.58 269.633 Q1886.59 266.925 1883.18 266.925 M1883.18 263.314 Q1888.74 263.314 1891.91 266.925 Q1895.08 270.536 1895.08 276.925 Q1895.08 283.291 1891.91 286.925 Q1888.74 290.536 1883.18 290.536 Q1877.6 290.536 1874.43 286.925 Q1871.28 283.291 1871.28 276.925 Q1871.28 270.536 1874.43 266.925 Q1877.6 263.314 1883.18 263.314 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M1917.16 267.92 Q1916.45 267.504 1915.59 267.318 Q1914.76 267.11 1913.74 267.11 Q1910.13 267.11 1908.18 269.471 Q1906.26 271.809 1906.26 276.207 L1906.26 289.865 L1901.98 289.865 L1901.98 263.939 L1906.26 263.939 L1906.26 267.967 Q1907.6 265.606 1909.76 264.471 Q1911.91 263.314 1914.99 263.314 Q1915.43 263.314 1915.96 263.383 Q1916.49 263.43 1917.14 263.545 L1917.16 267.92 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><polyline clip-path=\"url(#clip200)\" style=\"stroke:#0000ff; stroke-linecap:round; stroke-linejoin:round; stroke-width:8; stroke-opacity:0.7; fill:none\" stroke-dasharray=\"32, 20\" points=\"1644.4,324.425 1788.83,324.425 \"/>\n<path clip-path=\"url(#clip200)\" d=\"M1817.58 310.987 L1817.58 323.973 L1823.46 323.973 Q1826.72 323.973 1828.51 322.283 Q1830.29 320.594 1830.29 317.469 Q1830.29 314.367 1828.51 312.677 Q1826.72 310.987 1823.46 310.987 L1817.58 310.987 M1812.91 307.145 L1823.46 307.145 Q1829.27 307.145 1832.23 309.784 Q1835.22 312.399 1835.22 317.469 Q1835.22 322.584 1832.23 325.2 Q1829.27 327.816 1823.46 327.816 L1817.58 327.816 L1817.58 341.705 L1812.91 341.705 L1812.91 307.145 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M1849.66 318.765 Q1846.24 318.765 1844.25 321.45 Q1842.26 324.112 1842.26 328.765 Q1842.26 333.418 1844.22 336.103 Q1846.22 338.765 1849.66 338.765 Q1853.07 338.765 1855.06 336.08 Q1857.05 333.395 1857.05 328.765 Q1857.05 324.158 1855.06 321.473 Q1853.07 318.765 1849.66 318.765 M1849.66 315.154 Q1855.22 315.154 1858.39 318.765 Q1861.56 322.376 1861.56 328.765 Q1861.56 335.131 1858.39 338.765 Q1855.22 342.376 1849.66 342.376 Q1844.09 342.376 1840.91 338.765 Q1837.77 335.131 1837.77 328.765 Q1837.77 322.376 1840.91 318.765 Q1844.09 315.154 1849.66 315.154 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M1885.15 316.543 L1885.15 320.571 Q1883.34 319.645 1881.4 319.182 Q1879.46 318.719 1877.37 318.719 Q1874.2 318.719 1872.6 319.691 Q1871.03 320.663 1871.03 322.608 Q1871.03 324.089 1872.16 324.945 Q1873.3 325.779 1876.72 326.543 L1878.18 326.867 Q1882.72 327.839 1884.62 329.621 Q1886.54 331.381 1886.54 334.552 Q1886.54 338.163 1883.67 340.269 Q1880.82 342.376 1875.82 342.376 Q1873.74 342.376 1871.47 341.959 Q1869.22 341.566 1866.72 340.756 L1866.72 336.357 Q1869.09 337.584 1871.38 338.209 Q1873.67 338.811 1875.91 338.811 Q1878.92 338.811 1880.54 337.793 Q1882.16 336.751 1882.16 334.876 Q1882.16 333.14 1880.98 332.214 Q1879.83 331.288 1875.87 330.432 L1874.39 330.084 Q1870.43 329.251 1868.67 327.538 Q1866.91 325.802 1866.91 322.793 Q1866.91 319.135 1869.5 317.145 Q1872.09 315.154 1876.86 315.154 Q1879.22 315.154 1881.31 315.501 Q1883.39 315.848 1885.15 316.543 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M1897.53 308.418 L1897.53 315.779 L1906.31 315.779 L1906.31 319.089 L1897.53 319.089 L1897.53 333.163 Q1897.53 336.334 1898.39 337.237 Q1899.27 338.14 1901.93 338.14 L1906.31 338.14 L1906.31 341.705 L1901.93 341.705 Q1897 341.705 1895.13 339.876 Q1893.25 338.024 1893.25 333.163 L1893.25 319.089 L1890.13 319.089 L1890.13 315.779 L1893.25 315.779 L1893.25 308.418 L1897.53 308.418 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M1934.09 327.677 L1934.09 329.76 L1914.5 329.76 Q1914.78 334.158 1917.14 336.473 Q1919.53 338.765 1923.76 338.765 Q1926.21 338.765 1928.51 338.163 Q1930.82 337.561 1933.09 336.357 L1933.09 340.385 Q1930.8 341.357 1928.39 341.867 Q1925.98 342.376 1923.51 342.376 Q1917.3 342.376 1913.67 338.765 Q1910.06 335.154 1910.06 328.996 Q1910.06 322.631 1913.48 318.904 Q1916.93 315.154 1922.77 315.154 Q1928 315.154 1931.03 318.533 Q1934.09 321.89 1934.09 327.677 M1929.83 326.427 Q1929.78 322.932 1927.86 320.848 Q1925.96 318.765 1922.81 318.765 Q1919.25 318.765 1917.09 320.779 Q1914.97 322.793 1914.64 326.45 L1929.83 326.427 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M1956.1 319.76 Q1955.38 319.344 1954.52 319.158 Q1953.69 318.95 1952.67 318.95 Q1949.06 318.95 1947.12 321.311 Q1945.2 323.649 1945.2 328.047 L1945.2 341.705 L1940.91 341.705 L1940.91 315.779 L1945.2 315.779 L1945.2 319.807 Q1946.54 317.446 1948.69 316.311 Q1950.84 315.154 1953.92 315.154 Q1954.36 315.154 1954.9 315.223 Q1955.43 315.27 1956.08 315.385 L1956.1 319.76 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M1960.57 315.779 L1964.83 315.779 L1964.83 341.705 L1960.57 341.705 L1960.57 315.779 M1960.57 305.686 L1964.83 305.686 L1964.83 311.08 L1960.57 311.08 L1960.57 305.686 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M1983.78 318.765 Q1980.36 318.765 1978.37 321.45 Q1976.38 324.112 1976.38 328.765 Q1976.38 333.418 1978.34 336.103 Q1980.34 338.765 1983.78 338.765 Q1987.19 338.765 1989.18 336.08 Q1991.17 333.395 1991.17 328.765 Q1991.17 324.158 1989.18 321.473 Q1987.19 318.765 1983.78 318.765 M1983.78 315.154 Q1989.34 315.154 1992.51 318.765 Q1995.68 322.376 1995.68 328.765 Q1995.68 335.131 1992.51 338.765 Q1989.34 342.376 1983.78 342.376 Q1978.21 342.376 1975.03 338.765 Q1971.89 335.131 1971.89 328.765 Q1971.89 322.376 1975.03 318.765 Q1978.21 315.154 1983.78 315.154 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M2017.77 319.76 Q2017.05 319.344 2016.19 319.158 Q2015.36 318.95 2014.34 318.95 Q2010.73 318.95 2008.78 321.311 Q2006.86 323.649 2006.86 328.047 L2006.86 341.705 L2002.58 341.705 L2002.58 315.779 L2006.86 315.779 L2006.86 319.807 Q2008.21 317.446 2010.36 316.311 Q2012.51 315.154 2015.59 315.154 Q2016.03 315.154 2016.56 315.223 Q2017.09 315.27 2017.74 315.385 L2017.77 319.76 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><circle clip-path=\"url(#clip200)\" cx=\"1716.62\" cy=\"376.265\" r=\"20.48\" fill=\"#000000\" fill-rule=\"evenodd\" fill-opacity=\"1\" stroke=\"none\"/>\n<path clip-path=\"url(#clip200)\" d=\"M1812.91 358.985 L1819.2 358.985 L1834.53 387.897 L1834.53 358.985 L1839.06 358.985 L1839.06 393.545 L1832.77 393.545 L1817.44 364.633 L1817.44 393.545 L1812.91 393.545 L1812.91 358.985 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M1858.23 370.605 Q1854.8 370.605 1852.81 373.29 Q1850.82 375.952 1850.82 380.605 Q1850.82 385.258 1852.79 387.943 Q1854.78 390.605 1858.23 390.605 Q1861.63 390.605 1863.62 387.92 Q1865.61 385.235 1865.61 380.605 Q1865.61 375.998 1863.62 373.313 Q1861.63 370.605 1858.23 370.605 M1858.23 366.994 Q1863.78 366.994 1866.96 370.605 Q1870.13 374.216 1870.13 380.605 Q1870.13 386.971 1866.96 390.605 Q1863.78 394.216 1858.23 394.216 Q1852.65 394.216 1849.48 390.605 Q1846.33 386.971 1846.33 380.605 Q1846.33 374.216 1849.48 370.605 Q1852.65 366.994 1858.23 366.994 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M1877.19 367.619 L1881.45 367.619 L1881.45 393.545 L1877.19 393.545 L1877.19 367.619 M1877.19 357.526 L1881.45 357.526 L1881.45 362.92 L1877.19 362.92 L1877.19 357.526 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M1906.89 368.383 L1906.89 372.411 Q1905.08 371.485 1903.14 371.022 Q1901.19 370.559 1899.11 370.559 Q1895.94 370.559 1894.34 371.531 Q1892.77 372.503 1892.77 374.448 Q1892.77 375.929 1893.9 376.785 Q1895.03 377.619 1898.46 378.383 L1899.92 378.707 Q1904.46 379.679 1906.35 381.461 Q1908.28 383.221 1908.28 386.392 Q1908.28 390.003 1905.4 392.109 Q1902.56 394.216 1897.56 394.216 Q1895.47 394.216 1893.21 393.799 Q1890.96 393.406 1888.46 392.596 L1888.46 388.197 Q1890.82 389.424 1893.11 390.049 Q1895.4 390.651 1897.65 390.651 Q1900.66 390.651 1902.28 389.633 Q1903.9 388.591 1903.9 386.716 Q1903.9 384.98 1902.72 384.054 Q1901.56 383.128 1897.6 382.272 L1896.12 381.924 Q1892.16 381.091 1890.4 379.378 Q1888.65 377.642 1888.65 374.633 Q1888.65 370.975 1891.24 368.985 Q1893.83 366.994 1898.6 366.994 Q1900.96 366.994 1903.04 367.341 Q1905.13 367.688 1906.89 368.383 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M1925.84 395.952 Q1924.04 400.582 1922.33 401.994 Q1920.61 403.406 1917.74 403.406 L1914.34 403.406 L1914.34 399.841 L1916.84 399.841 Q1918.6 399.841 1919.57 399.008 Q1920.54 398.174 1921.72 395.072 L1922.49 393.128 L1912 367.619 L1916.52 367.619 L1924.62 387.897 L1932.72 367.619 L1937.23 367.619 L1925.84 395.952 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M1968.23 370.605 Q1964.8 370.605 1962.81 373.29 Q1960.82 375.952 1960.82 380.605 Q1960.82 385.258 1962.79 387.943 Q1964.78 390.605 1968.23 390.605 Q1971.63 390.605 1973.62 387.92 Q1975.61 385.235 1975.61 380.605 Q1975.61 375.998 1973.62 373.313 Q1971.63 370.605 1968.23 370.605 M1968.23 366.994 Q1973.78 366.994 1976.96 370.605 Q1980.13 374.216 1980.13 380.605 Q1980.13 386.971 1976.96 390.605 Q1973.78 394.216 1968.23 394.216 Q1962.65 394.216 1959.48 390.605 Q1956.33 386.971 1956.33 380.605 Q1956.33 374.216 1959.48 370.605 Q1962.65 366.994 1968.23 366.994 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M2005.8 380.605 Q2005.8 375.906 2003.85 373.244 Q2001.93 370.559 1998.55 370.559 Q1995.17 370.559 1993.23 373.244 Q1991.31 375.906 1991.31 380.605 Q1991.31 385.304 1993.23 387.989 Q1995.17 390.651 1998.55 390.651 Q2001.93 390.651 2003.85 387.989 Q2005.8 385.304 2005.8 380.605 M1991.31 371.554 Q1992.65 369.239 1994.69 368.128 Q1996.75 366.994 1999.59 366.994 Q2004.32 366.994 2007.26 370.744 Q2010.22 374.494 2010.22 380.605 Q2010.22 386.716 2007.26 390.466 Q2004.32 394.216 1999.59 394.216 Q1996.75 394.216 1994.69 393.105 Q1992.65 391.971 1991.31 389.656 L1991.31 393.545 L1987.02 393.545 L1987.02 357.526 L1991.31 357.526 L1991.31 371.554 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M2033.81 368.383 L2033.81 372.411 Q2032 371.485 2030.06 371.022 Q2028.11 370.559 2026.03 370.559 Q2022.86 370.559 2021.26 371.531 Q2019.69 372.503 2019.69 374.448 Q2019.69 375.929 2020.82 376.785 Q2021.96 377.619 2025.38 378.383 L2026.84 378.707 Q2031.38 379.679 2033.27 381.461 Q2035.2 383.221 2035.2 386.392 Q2035.2 390.003 2032.33 392.109 Q2029.48 394.216 2024.48 394.216 Q2022.4 394.216 2020.13 393.799 Q2017.88 393.406 2015.38 392.596 L2015.38 388.197 Q2017.74 389.424 2020.03 390.049 Q2022.33 390.651 2024.57 390.651 Q2027.58 390.651 2029.2 389.633 Q2030.82 388.591 2030.82 386.716 Q2030.82 384.98 2029.64 384.054 Q2028.48 383.128 2024.52 382.272 L2023.04 381.924 Q2019.08 381.091 2017.33 379.378 Q2015.57 377.642 2015.57 374.633 Q2015.57 370.975 2018.16 368.985 Q2020.75 366.994 2025.52 366.994 Q2027.88 366.994 2029.96 367.341 Q2032.05 367.688 2033.81 368.383 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M2064.15 379.517 L2064.15 381.6 L2044.57 381.6 Q2044.85 385.998 2047.21 388.313 Q2049.59 390.605 2053.83 390.605 Q2056.28 390.605 2058.58 390.003 Q2060.89 389.401 2063.16 388.197 L2063.16 392.225 Q2060.87 393.197 2058.46 393.707 Q2056.05 394.216 2053.58 394.216 Q2047.37 394.216 2043.74 390.605 Q2040.13 386.994 2040.13 380.836 Q2040.13 374.471 2043.55 370.744 Q2047 366.994 2052.83 366.994 Q2058.07 366.994 2061.1 370.373 Q2064.15 373.73 2064.15 379.517 M2059.89 378.267 Q2059.85 374.772 2057.93 372.688 Q2056.03 370.605 2052.88 370.605 Q2049.32 370.605 2047.16 372.619 Q2045.03 374.633 2044.71 378.29 L2059.89 378.267 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M2086.17 371.6 Q2085.45 371.184 2084.59 370.998 Q2083.76 370.79 2082.74 370.79 Q2079.13 370.79 2077.19 373.151 Q2075.27 375.489 2075.27 379.887 L2075.27 393.545 L2070.98 393.545 L2070.98 367.619 L2075.27 367.619 L2075.27 371.647 Q2076.61 369.286 2078.76 368.151 Q2080.91 366.994 2083.99 366.994 Q2084.43 366.994 2084.96 367.063 Q2085.5 367.11 2086.14 367.225 L2086.17 371.6 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M2087.58 367.619 L2092.09 367.619 L2100.2 389.378 L2108.3 367.619 L2112.81 367.619 L2103.09 393.545 L2097.3 393.545 L2087.58 367.619 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M2130.47 380.512 Q2125.31 380.512 2123.32 381.693 Q2121.33 382.873 2121.33 385.721 Q2121.33 387.989 2122.81 389.332 Q2124.32 390.651 2126.89 390.651 Q2130.43 390.651 2132.56 388.151 Q2134.71 385.628 2134.71 381.461 L2134.71 380.512 L2130.47 380.512 M2138.97 378.753 L2138.97 393.545 L2134.71 393.545 L2134.71 389.609 Q2133.25 391.971 2131.07 393.105 Q2128.9 394.216 2125.75 394.216 Q2121.77 394.216 2119.41 391.994 Q2117.07 389.748 2117.07 385.998 Q2117.07 381.623 2119.99 379.401 Q2122.93 377.179 2128.74 377.179 L2134.71 377.179 L2134.71 376.762 Q2134.71 373.823 2132.76 372.225 Q2130.84 370.605 2127.35 370.605 Q2125.13 370.605 2123.02 371.137 Q2120.91 371.67 2118.97 372.735 L2118.97 368.799 Q2121.31 367.897 2123.51 367.457 Q2125.7 366.994 2127.79 366.994 Q2133.41 366.994 2136.19 369.911 Q2138.97 372.827 2138.97 378.753 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M2151.95 360.258 L2151.95 367.619 L2160.73 367.619 L2160.73 370.929 L2151.95 370.929 L2151.95 385.003 Q2151.95 388.174 2152.81 389.077 Q2153.69 389.98 2156.35 389.98 L2160.73 389.98 L2160.73 393.545 L2156.35 393.545 Q2151.42 393.545 2149.55 391.716 Q2147.67 389.864 2147.67 385.003 L2147.67 370.929 L2144.55 370.929 L2144.55 367.619 L2147.67 367.619 L2147.67 360.258 L2151.95 360.258 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M2166.33 367.619 L2170.59 367.619 L2170.59 393.545 L2166.33 393.545 L2166.33 367.619 M2166.33 357.526 L2170.59 357.526 L2170.59 362.92 L2166.33 362.92 L2166.33 357.526 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M2189.55 370.605 Q2186.12 370.605 2184.13 373.29 Q2182.14 375.952 2182.14 380.605 Q2182.14 385.258 2184.11 387.943 Q2186.1 390.605 2189.55 390.605 Q2192.95 390.605 2194.94 387.92 Q2196.93 385.235 2196.93 380.605 Q2196.93 375.998 2194.94 373.313 Q2192.95 370.605 2189.55 370.605 M2189.55 366.994 Q2195.1 366.994 2198.27 370.605 Q2201.44 374.216 2201.44 380.605 Q2201.44 386.971 2198.27 390.605 Q2195.1 394.216 2189.55 394.216 Q2183.97 394.216 2180.8 390.605 Q2177.65 386.971 2177.65 380.605 Q2177.65 374.216 2180.8 370.605 Q2183.97 366.994 2189.55 366.994 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M2230.06 377.897 L2230.06 393.545 L2225.8 393.545 L2225.8 378.035 Q2225.8 374.355 2224.36 372.526 Q2222.93 370.698 2220.06 370.698 Q2216.61 370.698 2214.62 372.897 Q2212.63 375.096 2212.63 378.892 L2212.63 393.545 L2208.34 393.545 L2208.34 367.619 L2212.63 367.619 L2212.63 371.647 Q2214.15 369.309 2216.21 368.151 Q2218.3 366.994 2221.01 366.994 Q2225.47 366.994 2227.76 369.772 Q2230.06 372.526 2230.06 377.897 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /><path clip-path=\"url(#clip200)\" d=\"M2255.08 368.383 L2255.08 372.411 Q2253.27 371.485 2251.33 371.022 Q2249.38 370.559 2247.3 370.559 Q2244.13 370.559 2242.53 371.531 Q2240.96 372.503 2240.96 374.448 Q2240.96 375.929 2242.09 376.785 Q2243.23 377.619 2246.65 378.383 L2248.11 378.707 Q2252.65 379.679 2254.55 381.461 Q2256.47 383.221 2256.47 386.392 Q2256.47 390.003 2253.6 392.109 Q2250.75 394.216 2245.75 394.216 Q2243.67 394.216 2241.4 393.799 Q2239.15 393.406 2236.65 392.596 L2236.65 388.197 Q2239.01 389.424 2241.31 390.049 Q2243.6 390.651 2245.84 390.651 Q2248.85 390.651 2250.47 389.633 Q2252.09 388.591 2252.09 386.716 Q2252.09 384.98 2250.91 384.054 Q2249.75 383.128 2245.8 382.272 L2244.32 381.924 Q2240.36 381.091 2238.6 379.378 Q2236.84 377.642 2236.84 374.633 Q2236.84 370.975 2239.43 368.985 Q2242.02 366.994 2246.79 366.994 Q2249.15 366.994 2251.24 367.341 Q2253.32 367.688 2255.08 368.383 Z\" fill=\"#000000\" fill-rule=\"nonzero\" fill-opacity=\"1\" /></svg>\n","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"Finally, we can plot the posterior predictions of all of the algorithms and compare.","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"plot(tsave, true_obs, label=\"True solution\", c=:black, linewidth=2, title=\"Linear ODE: Inference algorithm comparison\", dpi=300, xlabel=\"time\")\nplot!(tsave, prior_ens_obs_mean, label=\"Prior\", c=:gray, linestyle=:dash, ribbon=2*prior_ens_obs_std, alpha=0.4, linewidth=2)\nplot!(tsave, posterior_obs_mean_enis, label=\"Posterior (EnIS)\", linestyle=:dash, ribbon=2*posterior_obs_std_enis, alpha=0.4, linewidth=3)\nplot!(tsave, posterior_obs_mean_esmda, label=\"Posterior (ES-MDA)\", linestyle=:dash, ribbon=2*posterior_obs_std_esmda, alpha=0.4, linewidth=3)\nplot!(tsave, posterior_obs_mean_eks, label=\"Posterior (EKS)\", linestyle=:dash, ribbon=2*posterior_obs_std_eks, alpha=0.4, linewidth=3)\nplot!(tsave, posterior_obs_mean_hmc, label=\"Posterior (HMC)\", linestyle=:dash, ribbon=2*posterior_obs_std_hmc, alpha=0.4, linewidth=3)\nplt = scatter!(tsave, noisy_obs, label=\"Noisy observations\", c=:black)","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"(Image: )","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"","category":"page"},{"location":"examples/linearode/","page":"Ensemble inversion of a linear ODE","title":"Ensemble inversion of a linear ODE","text":"This page was generated using Literate.jl.","category":"page"},{"location":"inference/ensemble/#Ensemble-algorithms","page":"Ensemble methods","title":"Ensemble algorithms","text":"","category":"section"},{"location":"inference/ensemble/","page":"Ensemble methods","title":"Ensemble methods","text":"CurrentModule = SimulationBasedInference\nDocTestSetup = quote\n    using SimulationBasedInference\n    using SimulationBasedInference: EnsembleInferenceAlgorithm, ensemble_solve\nend","category":"page"},{"location":"inference/ensemble/","page":"Ensemble methods","title":"Ensemble methods","text":"EnIS","category":"page"},{"location":"inference/ensemble/#SimulationBasedInference.EnIS-inference-ensemble","page":"Ensemble methods","title":"SimulationBasedInference.EnIS","text":"EnIS\n\nBasic ensemble importance sampling (EnIS) inference algorithm. Also sometimes referred to as the \"particle batch smoother\" (PBS) or \"generalized likelihood uncertainty estimation\" (GLUE) depending on the context.\n\n\n\n\n\n","category":"type"},{"location":"inference/ensemble/","page":"Ensemble methods","title":"Ensemble methods","text":"EKS","category":"page"},{"location":"inference/ensemble/#SimulationBasedInference.EKS-inference-ensemble","page":"Ensemble methods","title":"SimulationBasedInference.EKS","text":"EKS <: EnsembleInferenceAlgorithm\n\nRepresents a proxy for the Ensemble Kalman Sampler (Garbuno-Inigo et al. 2020) implementation provided by EnsembleKalmanProcesses.\n\n\n\n\n\n","category":"type"},{"location":"inference/ensemble/","page":"Ensemble methods","title":"Ensemble methods","text":"ESMDA","category":"page"},{"location":"inference/ensemble/#SimulationBasedInference.ESMDA-inference-ensemble","page":"Ensemble methods","title":"SimulationBasedInference.ESMDA","text":"ESMDA <: EnsembleInferenceAlgorithm\n\nImplementation of the ensemble-smother multiple data assimilation algorithm of Emerick et al. 2013.\n\nEmerick, Alexandre A., and Albert C. Reynolds. \"Ensemble smoother with multiple data assimilation.\" Computers & Geosciences 55 (2013): 3-15.\n\n\n\n\n\n","category":"type"},{"location":"inference/ensemble/#Ensemble-utility-methods","page":"Ensemble methods","title":"Ensemble utility methods","text":"","category":"section"},{"location":"inference/ensemble/","page":"Ensemble methods","title":"Ensemble methods","text":"get_ensemble(sol::SimulatorInferenceSolution{<:EnsembleInferenceAlgorithm}, iter::Int)","category":"page"},{"location":"inference/ensemble/#SimulationBasedInference.get_ensemble-Tuple{SimulatorInferenceSolution{<:SimulationBasedInference.EnsembleInferenceAlgorithm}, Int64}","page":"Ensemble methods","title":"SimulationBasedInference.get_ensemble","text":"get_ensemble(sol::SimulatorInferenceSolution{<:EnsembleInferenceAlgorithm}, iter::Int=-1)\n\nFetches the state of the ensemble from the given solution object. For iterative algorithms, the optinal argument iter may be provided, which then retrieves the ensemble at the given iteration.\n\n\n\n\n\n","category":"method"},{"location":"inference/ensemble/","page":"Ensemble methods","title":"Ensemble methods","text":"get_transformed_ensemble(sol::SimulatorInferenceSolution{<:EnsembleInferenceAlgorithm}, iter::Int)","category":"page"},{"location":"inference/ensemble/#SimulationBasedInference.get_transformed_ensemble-Tuple{SimulatorInferenceSolution{<:SimulationBasedInference.EnsembleInferenceAlgorithm}, Int64}","page":"Ensemble methods","title":"SimulationBasedInference.get_transformed_ensemble","text":"get_transformed_ensemble(sol::SimulatorInferenceSolution{<:EnsembleInferenceAlgorithm}, iter::Int=-1)\n\nFetches the transformed ensemble from the given solution object. For iterative algorithms, the optinal argument iter may be provided, which then retrieves the ensemble at the given iteration.\n\n\n\n\n\n","category":"method"},{"location":"inference/ensemble/","page":"Ensemble methods","title":"Ensemble methods","text":"get_observables(sol::SimulatorInferenceSolution{<:EnsembleInferenceAlgorithm}, iter::Int)","category":"page"},{"location":"inference/ensemble/#SimulationBasedInference.get_observables-Tuple{SimulatorInferenceSolution{<:SimulationBasedInference.EnsembleInferenceAlgorithm}, Int64}","page":"Ensemble methods","title":"SimulationBasedInference.get_observables","text":"get_observables(sol::SimulatorInferenceSolution{<:EnsembleInferenceAlgorithm}, iter::Int=-1)\n\nReturns a NamedTuple of concatenated observables at iteration iter.\n\n\n\n\n\n","category":"method"},{"location":"inference/ensemble/","page":"Ensemble methods","title":"Ensemble methods","text":"ensemble_solve(\n    ens::AbstractMatrix,\n    initial_prob::SciMLBase.AbstractSciMLProblem,\n    ensalg::SciMLBase.BasicEnsembleAlgorithm,\n    dealg::Union{Nothing,SciMLBase.AbstractSciMLAlgorithm},\n    param_map;\n    iter::Integer=1,\n    prob_func,\n    output_func,\n    pred_func,\n    solve_kwargs...\n)","category":"page"},{"location":"inference/ensemble/#SimulationBasedInference.ensemble_solve-Tuple{AbstractMatrix, SciMLBase.AbstractSciMLProblem, SciMLBase.BasicEnsembleAlgorithm, Union{Nothing, SciMLBase.AbstractSciMLAlgorithm}, Any}","page":"Ensemble methods","title":"SimulationBasedInference.ensemble_solve","text":"ensemble_solve(\n    ens::AbstractMatrix,\n    initial_prob::SciMLBase.AbstractSciMLProblem,\n    ensalg::SciMLBase.BasicEnsembleAlgorithm,\n    dealg::Union{Nothing,SciMLBase.AbstractSciMLAlgorithm},\n    param_map;\n    iter::Integer=1,\n    prob_func,\n    output_func,\n    pred_func,\n    solve_kwargs...\n)\n\nPerforms a single step/iteration for the given ensemble and returns a named tuple (; pred, sol) where sol are the full ensemble forward solutions and pred is the prediction matrix produced by pred_func.\n\n\n\n\n\n","category":"method"},{"location":"inference/mcmc/#MCMC-inference","page":"MCMC","title":"MCMC inference","text":"","category":"section"},{"location":"inference/mcmc/","page":"MCMC","title":"MCMC","text":"CurrentModule = SimulationBasedInference\nDocTestSetup = quote\n    using SimulationBasedInference\nend","category":"page"},{"location":"inference/mcmc/","page":"MCMC","title":"MCMC","text":"MCMC","category":"page"},{"location":"inference/mcmc/#SimulationBasedInference.MCMC-inference-mcmc","page":"MCMC","title":"SimulationBasedInference.MCMC","text":"MCMC{algType,stratType,kwargType} <: SimulatorInferenceAlgorithm\n\nGeneric container type for Markov Chain Monte Carlo (MCMC) based inference algorithms.\n\n\n\n\n\n","category":"type"},{"location":"inference/mcmc/","page":"MCMC","title":"MCMC","text":"Emcee","category":"page"},{"location":"inference/mcmc/#SimulationBasedInference.Emcee-inference-mcmc","page":"MCMC","title":"SimulationBasedInference.Emcee","text":"Emcee\n\nWrapper type for affine-invariant Markov-chain Monte Carlo, a.k.a \"emcee\".\n\n\n\n\n\n","category":"type"},{"location":"problems/forward_problem/#forward","page":"Forward problems","title":"Forward problems","text":"","category":"section"},{"location":"problems/forward_problem/","page":"Forward problems","title":"Forward problems","text":"CurrentModule = SimulationBasedInference\nDocTestSetup = quote\n    using SimulationBasedInference, OrdinaryDiffEq, ComponentArrays\nend","category":"page"},{"location":"problems/forward_problem/","page":"Forward problems","title":"Forward problems","text":"The SimulatorForwardProblem defines a forward map mathcalF Phi mapsto mathbfY_i for i=1dots N from parameters Phi to a set of N observables. Observables are functions of the simulator state that can be either diagnostics or true observable quantities that may be later compared to data.","category":"page"},{"location":"problems/forward_problem/","page":"Forward problems","title":"Forward problems","text":"A SimulatorForwardProblem is a wrapper around any other type of SciML problem that characterizes a simulator as well as one or more observables computed from the output of the simulation.","category":"page"},{"location":"problems/forward_problem/","page":"Forward problems","title":"Forward problems","text":"SimulatorForwardProblem(\n    prob::SciMLBase.AbstractSciMLProblem,\n    observables::SimulatorObservable...\n)","category":"page"},{"location":"problems/forward_problem/#SimulationBasedInference.SimulatorForwardProblem-Tuple{SciMLBase.AbstractSciMLProblem, Vararg{SimulatorObservable}}-problems-forward_problem","page":"Forward problems","title":"SimulationBasedInference.SimulatorForwardProblem","text":"SimulatorForwardProblem(prob::SciMLBase.AbstractSciMLProblem, observables::SimulatorObservable...)\n\nConstructs a SimulatorForwardProblem from the given SciML problem and observables.\n\n\n\n\n\n","category":"method"},{"location":"problems/forward_problem/","page":"Forward problems","title":"Forward problems","text":"The simulator can also be defined by any arbitrary Julia function of the form f(::AbstractVector)::Any in which case the function is treated as a simple forward map from input parameters to some output type that is processed by the Observables.","category":"page"},{"location":"problems/forward_problem/","page":"Forward problems","title":"Forward problems","text":"SimulatorForwardProblem(\n    f,\n    p0::AbstractVector,\n    observables::SimulatorObservable...\n)","category":"page"},{"location":"problems/forward_problem/#SimulationBasedInference.SimulatorForwardProblem-Tuple{Any, AbstractVector, Vararg{SimulatorObservable}}-problems-forward_problem","page":"Forward problems","title":"SimulationBasedInference.SimulatorForwardProblem","text":"SimulatorForwardProblem(f, p0::AbstractVector, observables::SimulatorObservable...)\n\nConstructs a SimulatorForwardProblem from the callable/function f(x) and observables. The base problem will be a SimpleForwardProblem which wraps f(x) and uses p0 as the default parameter/input values for x.\n\n\n\n\n\n","category":"method"},{"location":"problems/forward_problem/","page":"Forward problems","title":"Forward problems","text":"Note that forward problems typically need to be defined with some initial input parameters:","category":"page"},{"location":"problems/forward_problem/","page":"Forward problems","title":"Forward problems","text":"p0 = ones(10)\nforward_prob = SimulatorForwardProblem(sum, p0)","category":"page"},{"location":"problems/forward_problem/","page":"Forward problems","title":"Forward problems","text":"These parameters can be updated using the remake method from SciMLBase:","category":"page"},{"location":"problems/forward_problem/","page":"Forward problems","title":"Forward problems","text":"new_prob = remake(forward_prob, p=2*p0)","category":"page"},{"location":"problems/forward_problem/#Solve-interface","page":"Forward problems","title":"Solve interface","text":"","category":"section"},{"location":"problems/forward_problem/","page":"Forward problems","title":"Forward problems","text":"Like any SciML problem, SimulatorForwardProblem supports the SciML solve interface which allows the forward problem to be solved using any appropriate solver for the underlying problem.","category":"page"},{"location":"problems/forward_problem/","page":"Forward problems","title":"Forward problems","text":"For example, a ODE-based simulator can be solved using algorithms from OrdinaryDiffEq:","category":"page"},{"location":"problems/forward_problem/","page":"Forward problems","title":"Forward problems","text":"p = ComponentArray(α=0.1)\nodeprob = ODEProblem((u,p,t) -> -p.α*u, [1.0], (0.0,1.0), p)\nobservable = SimulatorObservable(:u, state -> state.u, 0.0, 0.1:0.1:1.0, size(odeprob.u0), samplerate=0.01)\nforward_prob = SimulatorForwardProblem(odeprob, observable)\nforward_sol = solve(forward_prob, Tsit5())","category":"page"},{"location":"problems/forward_problem/","page":"Forward problems","title":"Forward problems","text":"The return value of solve for SimulatorForwardProblem is typically a SimulatorForwardSolution which wraps both the underlying solution type as well as the original forward problem and its corresponding observables.","category":"page"},{"location":"problems/forward_problem/","page":"Forward problems","title":"Forward problems","text":"For forward problems such as the ODE example above that involve iteration, the problem can also be solved iteratively using init and step!:","category":"page"},{"location":"problems/forward_problem/","page":"Forward problems","title":"Forward problems","text":"solver = init(forward_prob)\nstep!(solver) # one solver step\nfor i in solver\n    # iterate until finished\nend\n\n# alternatively, solve!\nsol = solve!(solver)","category":"page"},{"location":"problems/observables/#observables","page":"Observables","title":"Observables","text":"","category":"section"},{"location":"problems/observables/","page":"Observables","title":"Observables","text":"CurrentModule = SimulationBasedInference\nDocTestSetup = quote\n    using SimulationBasedInference: Observable, SimulatorObservable, Transient, TimeSampled\nend","category":"page"},{"location":"problems/observables/","page":"Observables","title":"Observables","text":"Observables define outputs or derived quantities produced by the simulator which are of interest to the user, either for the purpose of inference (i.e. conditioning on data), validation, or debugging.","category":"page"},{"location":"problems/observables/","page":"Observables","title":"Observables","text":"The observables API is one of the key features of SimulationBasedInference that separates the package from other software tools for automated Bayesian inference. Many such tools consider only models of the form y = f(theta) where theta are the uknowns to be inferred and y are the outputs of the simulator f to be compared to data. While mathematically convenient, this formulation ignores some basic practial realities of many scientific and engineering use cases:","category":"page"},{"location":"problems/observables/","page":"Observables","title":"Observables","text":"The simulator may be computaionally non-trivial to evaluate, i.e. f(theta) may require significant computational resources to evaluate. \nThe output of the simulator is often itself large and complex, e.g. a solution to a set of partial differential equations.\nThe output of the simulator is not always directly comparable to the available data.","category":"page"},{"location":"problems/observables/","page":"Observables","title":"Observables","text":"In light of this, SimulationBasedInference formally treats the simulator inference pipeline as a composition of two parts:","category":"page"},{"location":"problems/observables/","page":"Observables","title":"Observables","text":"beginalign*\nu = f(theta) \ny_i = g_i(u)\nendalign*","category":"page"},{"location":"problems/observables/","page":"Observables","title":"Observables","text":"where u is the output or latent state of the simulator and g_i for i=1dots m are m quantities derived from u. More importantly, for the case where f is a dynamical system defined by an ODEProblem or similar and the solution u(t) is a function over time (and possibly space), observables g_i can be defined as functionals which are evaluated during each simulation thereby circumventing the need to store the solution u explicitly.","category":"page"},{"location":"problems/observables/#Basic-usage","page":"Observables","title":"Basic usage","text":"","category":"section"},{"location":"problems/observables/","page":"Observables","title":"Observables","text":"Observables are constructed using the SimulatorObservable type which consists of the following components:","category":"page"},{"location":"problems/observables/","page":"Observables","title":"Observables","text":"A name/identifier represented as a Symbol (e.g. :y1)\nA function of the form y_i = g_i(u) where u is the (possibly transient) state of the simulator and y_i is the output.\nAn output type which defines the behavior of the observable and how the outputs are stored.\nA set of coordinates for y_i which define its shape and indices.","category":"page"},{"location":"problems/observables/","page":"Observables","title":"Observables","text":"Currently, SimulationBasedInference provides two types of observable outputs:","category":"page"},{"location":"problems/observables/","page":"Observables","title":"Observables","text":"Transient output types (with alias TransientObservable) which naively evaluate g_i and store a pointer to the return value. Repeated evaluations of the observable overwrite previous values.\nTimeSampled output types (with alias TimeSampledObservable) for dynamical systems which define a sampling frequency and a set of save times. Outputs of g_i at each sample time are buffered and then aggregated at each save time according to some reducer function (e.g. mean, sum, etc.).","category":"page"},{"location":"problems/observables/","page":"Observables","title":"Observables","text":"Type specific dispatches of the SimulatorObservable constructor for each output type as a convenience.","category":"page"},{"location":"problems/observables/","page":"Observables","title":"Observables","text":"SimulatorObservable(name::Symbol, f, coords::Tuple)","category":"page"},{"location":"problems/observables/#SimulationBasedInference.SimulatorObservable-Tuple{Symbol, Any, Tuple}-problems-observables","page":"Observables","title":"SimulationBasedInference.SimulatorObservable","text":"SimulatorObservable(name::Symbol, f, coords::Tuple)\n\nConstructs a Transient observable with state mapping function f and coordinates coords.\n\n\n\n\n\n","category":"method"},{"location":"problems/observables/","page":"Observables","title":"Observables","text":"where coords are a Tuple of dimension sizes (e.g. (2,) for a 2-dimensional output) or coordinates (e.g. (1:2,)) that index the dimensions of the output. Dimensions from DimensionalData can also be directly supplied (e.g. (X(1:10),Y(1:10))). Note that the output of g_i must match the shape specified by output_dims.","category":"page"},{"location":"problems/observables/","page":"Observables","title":"Observables","text":"For time sampled observables of dynamical systems, it is necessary to additionally provide an initial time stamp t0 and a vector of timestamps ts which specify the time points at which the the buffered observable values should be saved.","category":"page"},{"location":"problems/observables/","page":"Observables","title":"Observables","text":"SimulatorObservable(\n    name::Symbol,\n    obsfunc,\n    t0::tType,\n    tsave::AbstractVector{tType},\n    output_shape_or_coords::Tuple;\n    reducer=mean,\n    samplerate=default_sample_rate(tsave),\n) where {tType}","category":"page"},{"location":"problems/observables/#SimulationBasedInference.SimulatorObservable-Union{Tuple{tType}, Tuple{Symbol, Any, tType, AbstractVector{tType}, Tuple}} where tType-problems-observables","page":"Observables","title":"SimulationBasedInference.SimulatorObservable","text":"SimulatorObservable(\n    name::Symbol,\n    obsfunc,\n    t0::tType,\n    tsave::AbstractVector{tType},\n    output_shape_or_coords::Tuple;\n    reducer=mean,\n    samplerate=default_sample_rate(tsave),\n) where {tType}\n\nConstructs a TimeSampled observable which iteratively samples and stores outputs on each call to observe!.\n\n\n\n\n\n","category":"method"},{"location":"problems/observables/","page":"Observables","title":"Observables","text":"Here is a simple example for a generic ODEProblem from the SciML package ecosystem:","category":"page"},{"location":"problems/observables/","page":"Observables","title":"Observables","text":"prob = ODEProblem(dudt, u0  tspan)\noutput_dims = size(u0)\nt0 = tspan[1]\nts = LinRange(tspan[1], tspan[2], 100)\n# this observable will simply save the full state at each save point in `ts`\nobs = SimulatorObservable(:yt, state -> state.u, t0, ts, output_dims)","category":"page"},{"location":"problems/observables/","page":"Observables","title":"Observables","text":"For time sampled observables, output_dims represents the shape of the output at each time step, i.e. without the time dimension which is imlicitly defined by the number of save points.","category":"page"},{"location":"problems/observables/#Defining-custom-observables","page":"Observables","title":"Defining custom observables","text":"","category":"section"},{"location":"problems/observables/","page":"Observables","title":"Observables","text":"In general, it is recommended to define custom observables using one of the pre-defined output types of SimulatorObservable described above.","category":"page"},{"location":"problems/observables/","page":"Observables","title":"Observables","text":"However, in some cases, it may be easier to define a new observable type that is tailored to custom-tailored to a particular simulator or use case.","category":"page"},{"location":"problems/observables/","page":"Observables","title":"Observables","text":"SimulationBasedInference.Observable","category":"page"},{"location":"problems/observables/#SimulationBasedInference.Observable","page":"Observables","title":"SimulationBasedInference.Observable","text":"Observable{outputType<:SimulatorOutput}\n\nBase type for observables with the given outputType.\n\n\n\n\n\n","category":"type"},{"location":"problems/observables/","page":"Observables","title":"Observables","text":"This can be done by extending SimulatorObservable with a new SimulatorOutput type, or by defining an entirely new subtype of Observable. Generally the former is recommended.","category":"page"},{"location":"problems/observables/","page":"Observables","title":"Observables","text":"In either case, subtypes of Observable must implement the following methods.","category":"page"},{"location":"problems/observables/","page":"Observables","title":"Observables","text":"initialize!(obs::Observable, state)","category":"page"},{"location":"problems/observables/#SimulationBasedInference.initialize!-Tuple{SimulationBasedInference.Observable, Any}-problems-observables","page":"Observables","title":"SimulationBasedInference.initialize!","text":"initialize!(::Observable, state)\n\nInitialize the Observable from the given simulator state.\n\n\n\n\n\n","category":"method"},{"location":"problems/observables/","page":"Observables","title":"Observables","text":"observe!(obs::Observable, state)","category":"page"},{"location":"problems/observables/#SimulationBasedInference.observe!-Tuple{SimulationBasedInference.Observable, Any}-problems-observables","page":"Observables","title":"SimulationBasedInference.observe!","text":"observe!(::Observable, state)\n\nComputes and stores the relevant state variables from the given simulator state.\n\n\n\n\n\n","category":"method"},{"location":"problems/observables/","page":"Observables","title":"Observables","text":"getvalue(obs::Observable)","category":"page"},{"location":"problems/observables/#SimulationBasedInference.getvalue-Tuple{SimulationBasedInference.Observable}-problems-observables","page":"Observables","title":"SimulationBasedInference.getvalue","text":"getvalue(::Observable, ::Type{T}=Any) where {T}\n\nRetreive the obsevable at all coordinates.\n\n\n\n\n\n","category":"method"},{"location":"problems/observables/","page":"Observables","title":"Observables","text":"setvalue!(obs::Observable, value)","category":"page"},{"location":"problems/observables/#SimulationBasedInference.setvalue!-Tuple{SimulationBasedInference.Observable, Any}-problems-observables","page":"Observables","title":"SimulationBasedInference.setvalue!","text":"setvalue!(obs::Observable, value)\n\nOverwrites the value of this observable. The type of value will depend on the type of the observable. This should generally only be used for testing and emulation purposes.\n\n\n\n\n\n","category":"method"},{"location":"problems/observables/","page":"Observables","title":"Observables","text":"coordinates(obs::Observable)","category":"page"},{"location":"problems/observables/#SimulationBasedInference.coordinates-Tuple{SimulationBasedInference.Observable}-problems-observables","page":"Observables","title":"SimulationBasedInference.coordinates","text":"coordinates(obs::Observable)\n\nRetrieves coordinates for each dimension of the observables as a Tuple with length matching the number of dimensions.\n\n\n\n\n\n","category":"method"},{"location":"problems/observables/","page":"Observables","title":"Observables","text":"New subtypes of Observable should additionally implement Base.nameof to return a Symbol corresponding to the unique identifier of the observable.","category":"page"},{"location":"api/emulators/#api_emulators","page":"Emulators","title":"Emulators API","text":"","category":"section"},{"location":"api/emulators/","page":"Emulators","title":"Emulators","text":"The Emulators submodule defines types and methods for emulating expensive SimulatorForwardProblems.","category":"page"},{"location":"api/emulators/","page":"Emulators","title":"Emulators","text":"Modules = [SimulationBasedInference.Emulators]\nOrder = [:type, :function, :macro]\nPrivate = false","category":"page"},{"location":"api/emulators/#SimulationBasedInference.Emulators.Decorrelated","page":"Emulators","title":"SimulationBasedInference.Emulators.Decorrelated","text":"Decorrelated{bijType} <: DataTransform\n\nDecorrelation transform applied to a multivariate output (target) space.\n\n\n\n\n\n","category":"type"},{"location":"api/emulators/#SimulationBasedInference.Emulators.EmulatedObservables","page":"Emulators","title":"SimulationBasedInference.Emulators.EmulatedObservables","text":"EmulatedObservables{names} <: SciMLBase.AbstractSciMLAlgorithm\n\nRepresents an emulated forward solver for observables names in a given forward problem. The dimensionality of the output spaces of the emulators are assumed to match those of the observables exactly.\n\n\n\n\n\n","category":"type"},{"location":"api/emulators/#SimulationBasedInference.Emulators.Emulator","page":"Emulators","title":"SimulationBasedInference.Emulators.Emulator","text":"Emulator{TM,TT} <: Emulator\n\nData structure consisting of some training data for a model emulator, appropriate transforms, and a tuple of univariate regressors which are applied to the transformed data.\n\n\n\n\n\n","category":"type"},{"location":"api/emulators/#SimulationBasedInference.Emulators.EmulatorData","page":"Emulators","title":"SimulationBasedInference.Emulators.EmulatorData","text":"EmulatorData\n\nGeneric container for emulator training data matrices X and Y. X should have shape m x N where N is the number of samples and m is the number of covariates. Y should have dimensions N x d where d is the number of ouptut covariates.+\n\n\n\n\n\n","category":"type"},{"location":"api/emulators/#SimulationBasedInference.Emulators.GPRegressor","page":"Emulators","title":"SimulationBasedInference.Emulators.GPRegressor","text":"GPRegressor\n\nGeneric implementation of a Gaussian Process regressor for a univariate outputs. This implementation is adapted from MLJGaussianProcesses to be usable without MLJ.\n\n\n\n\n\n","category":"type"},{"location":"api/emulators/#SimulationBasedInference.Emulators.StackedRegressors","page":"Emulators","title":"SimulationBasedInference.Emulators.StackedRegressors","text":"StackedRegressors{TM}\n\nSimple representation of a set of stacked, univaraite regressors for multi-target regression problems.\n\n\n\n\n\n","category":"type"},{"location":"#SimulationBasedInference.jl","page":"Home","title":"SimulationBasedInference.jl","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"SimulationBasedInference.jl aims to bring together a variety of different methods for simulation-based inference, i.e. statistical inference with simulator-like models, in the Julia programming language.","category":"page"},{"location":"","page":"Home","title":"Home","text":"Please note that this package is still very much under construction and things may break or change without prior notice.","category":"page"},{"location":"","page":"Home","title":"Home","text":"If you would like to use this package in your work, please let us know by creating an issue on GitHub or sending an email to brian.groenke@awi.de","category":"page"},{"location":"#Installation","page":"Home","title":"Installation","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"SimulationBasedInference can be installed via the Julia package manager:","category":"page"},{"location":"","page":"Home","title":"Home","text":"add SimulationBasedInference","category":"page"},{"location":"","page":"Home","title":"Home","text":"or equivalently in code/REPL:","category":"page"},{"location":"","page":"Home","title":"Home","text":"import Pkg\nPkg.add(\"SimulationBasedInference\")","category":"page"},{"location":"api/sbi/#api","page":"SimulationBasedInference","title":"Index of public API","text":"","category":"section"},{"location":"api/sbi/","page":"SimulationBasedInference","title":"SimulationBasedInference","text":"This page provides a full list of all types and methods exported by the SimulationBasedInference module.","category":"page"},{"location":"api/sbi/","page":"SimulationBasedInference","title":"SimulationBasedInference","text":"Modules = [SimulationBasedInference]\nOrder = [:type, :function, :macro]\nPrivate = false\nFilter = typ -> parentmodule(typ) === SimulationBasedInference","category":"page"},{"location":"api/sbi/#SimulationBasedInference.EKS","page":"SimulationBasedInference","title":"SimulationBasedInference.EKS","text":"EKS <: EnsembleInferenceAlgorithm\n\nRepresents a proxy for the Ensemble Kalman Sampler (Garbuno-Inigo et al. 2020) implementation provided by EnsembleKalmanProcesses.\n\n\n\n\n\n","category":"type"},{"location":"api/sbi/#SimulationBasedInference.ESMDA","page":"SimulationBasedInference","title":"SimulationBasedInference.ESMDA","text":"ESMDA <: EnsembleInferenceAlgorithm\n\nImplementation of the ensemble-smother multiple data assimilation algorithm of Emerick et al. 2013.\n\nEmerick, Alexandre A., and Albert C. Reynolds. \"Ensemble smoother with multiple data assimilation.\" Computers & Geosciences 55 (2013): 3-15.\n\n\n\n\n\n","category":"type"},{"location":"api/sbi/#SimulationBasedInference.Emcee","page":"SimulationBasedInference","title":"SimulationBasedInference.Emcee","text":"Emcee\n\nWrapper type for affine-invariant Markov-chain Monte Carlo, a.k.a \"emcee\".\n\n\n\n\n\n","category":"type"},{"location":"api/sbi/#SimulationBasedInference.EmpiricalGaussian","page":"SimulationBasedInference","title":"SimulationBasedInference.EmpiricalGaussian","text":"EmpiricalGaussian <: GaussianApproximationMethod\n\nRepresents a simple Gaussian approximation method which calculates a sample mean and covariance.\n\n\n\n\n\n","category":"type"},{"location":"api/sbi/#SimulationBasedInference.EnIS","page":"SimulationBasedInference","title":"SimulationBasedInference.EnIS","text":"EnIS\n\nBasic ensemble importance sampling (EnIS) inference algorithm. Also sometimes referred to as the \"particle batch smoother\" (PBS) or \"generalized likelihood uncertainty estimation\" (GLUE) depending on the context.\n\n\n\n\n\n","category":"type"},{"location":"api/sbi/#SimulationBasedInference.EnsembleSolver","page":"SimulationBasedInference","title":"SimulationBasedInference.EnsembleSolver","text":"EnsembleSolver{algType,probType,ensalgType,stateType<:EnsembleState,kwargTypes}\n\nGeneric implementation of an iterative solver for any ensemble-based algorithm. Uses the SciML EnsembleProblem interface to automatically parallelize forward runs over the ensemble.\n\n\n\n\n\n","category":"type"},{"location":"api/sbi/#SimulationBasedInference.GaussianApproximationMethod","page":"SimulationBasedInference","title":"SimulationBasedInference.GaussianApproximationMethod","text":"GaussianApproximationMethod\n\nBase type for Gaussian approximations of arbitrary prior distributions.\n\n\n\n\n\n","category":"type"},{"location":"api/sbi/#SimulationBasedInference.JointPrior","page":"SimulationBasedInference","title":"SimulationBasedInference.JointPrior","text":"JointPrior{modelPriorType<:AbstractSimulatorPrior,likPriorTypes} <: AbstractSimulatorPrior\n\nRepresents the \"joint\" prior p(θₘ,θₗ) where θ = [θₘ θₗ] are the full set of parameters in the joint; distribution p(x,θ). θₘ are the model (simulator) parameters and θₗ are the noise/error model parameters.\n\n\n\n\n\n","category":"type"},{"location":"api/sbi/#SimulationBasedInference.JointPrior-Tuple{AbstractSimulatorPrior, Vararg{SimulatorLikelihood}}","page":"SimulationBasedInference","title":"SimulationBasedInference.JointPrior","text":"Constructs a JointPrior from the given prior and likelihoods.\n\n\n\n\n\n","category":"method"},{"location":"api/sbi/#SimulationBasedInference.MCMC","page":"SimulationBasedInference","title":"SimulationBasedInference.MCMC","text":"MCMC(alg, strat; kwargs...)\n\nGeneric consturctor for MCMC algorithms with implementation-specific type alg and \"strategy\" strat.\n\n\n\n\n\n","category":"type"},{"location":"api/sbi/#SimulationBasedInference.MCMC-2","page":"SimulationBasedInference","title":"SimulationBasedInference.MCMC","text":"MCMC{algType,stratType,kwargType} <: SimulatorInferenceAlgorithm\n\nGeneric container type for Markov Chain Monte Carlo (MCMC) based inference algorithms.\n\n\n\n\n\n","category":"type"},{"location":"api/sbi/#SimulationBasedInference.NamedProductPrior","page":"SimulationBasedInference","title":"SimulationBasedInference.NamedProductPrior","text":"NamedProductPrior{distTypes<:NamedTuple}\n\nSimple diagonal prior that wraps a NamedTuple of distributions from the Distributions package.\n\n\n\n\n\n","category":"type"},{"location":"api/sbi/#SimulationBasedInference.PBS","page":"SimulationBasedInference","title":"SimulationBasedInference.PBS","text":"Alias for EnIS.\n\n\n\n\n\n","category":"type"},{"location":"api/sbi/#SimulationBasedInference.SimulationArrayStorage","page":"SimulationBasedInference","title":"SimulationBasedInference.SimulationArrayStorage","text":"SimulationArrayStorage <: SimulationData\n\nSimple implementation of SimulationData that stores all results in generically typed Vectors.\n\n\n\n\n\n","category":"type"},{"location":"api/sbi/#SimulationBasedInference.SimulationData","page":"SimulationBasedInference","title":"SimulationBasedInference.SimulationData","text":"SimulationData\n\nBase type representing storage for simulation data, i.e. input/output pairs.\n\n\n\n\n\n","category":"type"},{"location":"api/sbi/#SimulationBasedInference.SimulatorForwardProblem","page":"SimulationBasedInference","title":"SimulationBasedInference.SimulatorForwardProblem","text":"SimulatorForwardProblem{probType,obsType,configType,names} <: SciMLBase.AbstractSciMLProblem\n\nRepresents a \"forward\" problem from parameters/initial conditions to output SimulatorObservables. This type wraps an underlying SciMLProblem, a set of Observables, and an optional, probelm-dependent configuration type.\n\nSimulatorForwardProblem(prob::SciMLBase.AbstractSciMLProblem, observables::SimulatorObservable...)\n\nConstructs a generic simulator forward problem from the given AbstractSciMLProblem; note that this could be any problem type, e.g. an optimization problem, nonlinear system, quadrature, etc.\n\nSimulatorForwardProblem(f, p0::AbstractVector, observables::SimulatorObservable...)\n\nCreates a forward problem from the given function or callable type f with initial parameters p0 and the given observables.\n\nSimulatorForwardProblem(f, p0::AbstractVector)\n\nCreates a forward problem from the given function or callable type f with initial parameters p0 and a default transient observable. Note that this constructor calls f(p0) in order to determine the shape of the observable. If f is very costly and this is undesirable, it is recommended to use the explicit constructor.\n\n\n\n\n\n","category":"type"},{"location":"api/sbi/#SimulationBasedInference.SimulatorForwardProblem-Tuple{Any, AbstractVector, Vararg{SimulatorObservable}}","page":"SimulationBasedInference","title":"SimulationBasedInference.SimulatorForwardProblem","text":"SimulatorForwardProblem(f, p0::AbstractVector, observables::SimulatorObservable...)\n\nConstructs a SimulatorForwardProblem from the callable/function f(x) and observables. The base problem will be a SimpleForwardProblem which wraps f(x) and uses p0 as the default parameter/input values for x.\n\n\n\n\n\n","category":"method"},{"location":"api/sbi/#SimulationBasedInference.SimulatorForwardProblem-Tuple{SciMLBase.AbstractSciMLProblem, Vararg{SimulatorObservable}}","page":"SimulationBasedInference","title":"SimulationBasedInference.SimulatorForwardProblem","text":"SimulatorForwardProblem(prob::SciMLBase.AbstractSciMLProblem, observables::SimulatorObservable...)\n\nConstructs a SimulatorForwardProblem from the given SciML problem and observables.\n\n\n\n\n\n","category":"method"},{"location":"api/sbi/#SimulationBasedInference.SimulatorForwardSolution","page":"SimulationBasedInference","title":"SimulationBasedInference.SimulatorForwardSolution","text":"SimulatorForwardSolution{TSol}\n\nSolution for a SimulatorForwardProblem that wraps the underlying DESolution.\n\n\n\n\n\n","category":"type"},{"location":"api/sbi/#SimulationBasedInference.SimulatorForwardSolver","page":"SimulationBasedInference","title":"SimulationBasedInference.SimulatorForwardSolver","text":"SimulatorForwardSolver{stateType}\n\nBasic forward solver that simply wraps the value returned by init for the underlying problem.\n\n\n\n\n\n","category":"type"},{"location":"api/sbi/#SimulationBasedInference.SimulatorInferenceAlgorithm","page":"SimulationBasedInference","title":"SimulationBasedInference.SimulatorInferenceAlgorithm","text":"Base type for all simulator-based inference algorithms.\n\n\n\n\n\n","category":"type"},{"location":"api/sbi/#SimulationBasedInference.SimulatorInferenceProblem","page":"SimulationBasedInference","title":"SimulationBasedInference.SimulatorInferenceProblem","text":"SimulatorInferenceProblem{modelPriorType<:AbstractSimulatorPrior,uType,solverType} <: SciMLBase.AbstractSciMLProblem\n\nRepresents a generic simulation-based Bayesian inference problem for finding the posterior distribution over model parameters given some observed data.\n\n\n\n\n\n","category":"type"},{"location":"api/sbi/#SimulationBasedInference.SimulatorInferenceProblem-Tuple{SimulatorForwardProblem, Any, AbstractSimulatorPrior, Vararg{SimulationBasedInference.AbstractLikelihood}}","page":"SimulationBasedInference","title":"SimulationBasedInference.SimulatorInferenceProblem","text":"SimulatorInferenceProblem(\n    prob::SimulatorForwardProblem,\n    forward_solver,\n    prior::AbstractSimulatorPrior,\n    likelihoods::AbstractLikelihood...;\n    metadata::Dict=Dict(),\n)\n\nConstructs a SimulatorInferenceProblem from the given forward problem, prior, and likelihoods. Additional user-specified metadata may be included in the metadata dictionary.\n\n\n\n\n\n","category":"method"},{"location":"api/sbi/#SimulationBasedInference.SimulatorInferenceSolution","page":"SimulationBasedInference","title":"SimulationBasedInference.SimulatorInferenceSolution","text":"SimulatorInferenceSolution{algType,probType,storageType}\n\nGeneric container for solutions to SimulatorInferenceProblems. The type of result is method dependent and should generally correspond to the final state or product of the inference algorithm (e.g. posterior sampels). The field output should be an instance of SimulationData\n\n\n\n\n\n","category":"type"},{"location":"api/sbi/#SimulationBasedInference.SimulatorLikelihood","page":"SimulationBasedInference","title":"SimulationBasedInference.SimulatorLikelihood","text":"SimulatorLikelihood{distType,obsType,dataType,priorType}\n\nRepresents a simulator-based likelihood function. A SimulatorLikelihood consists of four basic components:\n\n(1) A distribution type, e.g. Normal,\n\n(2) A SimulatorObservable which represents the observation operator,\n\n(3) A set of data, usually a Vector or Matrix, which matches the structure of the observable,\n\n(4) A prior distribution governing one or more additional parameters required to compute the likelihood.\n\nDue to the typically high cost of evaluating the parameter forward map, SimulatorLikelihood effectively decouples the computation of the likelihood from the simulator via the SimulatorObservable, which stores the result of a forward simulation. When the SimulatorLikelihood is evaluated, these outputs are obtained from getvalue(obs) and the only additional parameters needed are those specified by prior.\n\n\n\n\n\n","category":"type"},{"location":"api/sbi/#SimulationBasedInference.SimulatorLikelihood-Union{Tuple{distType}, Tuple{Type{distType}, Any, Any, Any}, Tuple{Type{distType}, Vararg{Any, 4}}} where distType","page":"SimulationBasedInference","title":"SimulationBasedInference.SimulatorLikelihood","text":"SimulatorLikelihood(::Type{distType}, obs, data, prior, name=nameof(obs)) where {distType}\n\nCreates a SimulatorLikelihood with the given distribution type, observable, data source, and prior distribtuion. A custom identifier may also be specified via the name argument; by default, the name of the observable is used.\n\n\n\n\n\n","category":"method"},{"location":"api/sbi/#SimulationBasedInference.SimulatorODEForwardSolver","page":"SimulationBasedInference","title":"SimulationBasedInference.SimulatorODEForwardSolver","text":"SimulatorODEForwardSolver{algType,uType,tType,iip,integratorType<:AbstractODEIntegrator{algType,iip,uType,tType}} <: AbstractODEIntegrator{algType,iip,uType,tType}\n\nSpecialized integrator type that wraps a SciML ODE integrator and controls the stepping procedure such that each observable sample point is hit.\n\n\n\n\n\n","category":"type"},{"location":"api/sbi/#SimulationBasedInference.SimulatorObservable","page":"SimulationBasedInference","title":"SimulationBasedInference.SimulatorObservable","text":"SimulatorObservable{N,outputType<:SimulatorOutput,funcType,coordsType} <: Observable{outputType}\n\nRepresents a named \"observable\" that stores output from a simulator. obsfunc defines a mapping from the simulator state to the observed quantity. The type and implementation of output determines how the samples are stored. The simplest output type is Transient which simply maintains a pointer to the last observed output.\n\n\n\n\n\n","category":"type"},{"location":"api/sbi/#SimulationBasedInference.SimulatorObservable-Tuple{Symbol, Any, Tuple}","page":"SimulationBasedInference","title":"SimulationBasedInference.SimulatorObservable","text":"SimulatorObservable(name::Symbol, f, coords::Tuple)\n\nConstructs a Transient observable with state mapping function f and coordinates coords.\n\n\n\n\n\n","category":"method"},{"location":"api/sbi/#SimulationBasedInference.SimulatorObservable-Union{Tuple{tType}, Tuple{Symbol, Any, tType, AbstractVector{tType}, Tuple}} where tType","page":"SimulationBasedInference","title":"SimulationBasedInference.SimulatorObservable","text":"SimulatorObservable(\n    name::Symbol,\n    obsfunc,\n    t0::tType,\n    tsave::AbstractVector{tType},\n    output_shape_or_coords::Tuple;\n    reducer=mean,\n    samplerate=default_sample_rate(tsave),\n) where {tType}\n\nConstructs a TimeSampled observable which iteratively samples and stores outputs on each call to observe!.\n\n\n\n\n\n","category":"method"},{"location":"api/sbi/#SimulationBasedInference.DiagonalGaussianLikelihood","page":"SimulationBasedInference","title":"SimulationBasedInference.DiagonalGaussianLikelihood","text":"DiagonalGaussianLikelihood(obs, data, prior, name)\n\nAlias for SimulatorLikelihood(DiagNormal, obs, data, prior, name). Represents a multivaraite i.i.d Guassian likelihood with heteroscedastic noise.\n\n\n\n\n\n","category":"function"},{"location":"api/sbi/#SimulationBasedInference.DiracLikelihood","page":"SimulationBasedInference","title":"SimulationBasedInference.DiracLikelihood","text":"DiracLikelihood(\n    obs,\n    data,\n    name=nameof(obs),\n)\n\nRepresents a Dirac delta likelihood function which assigns full probability mass to a single point, i.e. the predicted value of the simulator observable.\n\n\n\n\n\n","category":"function"},{"location":"api/sbi/#SimulationBasedInference.GPLikelihood","page":"SimulationBasedInference","title":"SimulationBasedInference.GPLikelihood","text":"GPLikelihood(obs, data, kernelfn, prior::AbstractSimulatorPrior, name=nameof(obs))\n\nConstructs a GP likelihood from the given observable, data, kernel function, and prior. The kernel function should be a function that takes parameters matching those sampled from prior and constructs any Kernel from KernelFunctions.\n\n\n\n\n\n","category":"function"},{"location":"api/sbi/#SimulationBasedInference.GaussianLikelihood","page":"SimulationBasedInference","title":"SimulationBasedInference.GaussianLikelihood","text":"GaussianLikelihood(obs, data, prior, name)\n\nAlias for SimulatorLikelihood(Normal, obs, data, prior, name). Represents a univariate Guassian likelihood.\n\n\n\n\n\n","category":"function"},{"location":"api/sbi/#SimulationBasedInference.ImplicitLikelihood","page":"SimulationBasedInference","title":"SimulationBasedInference.ImplicitLikelihood","text":"ImplicitLikelihood(\n    obs,\n    data,\n    name=nameof(obs),\n)\n\nRepresents a Dirac delta likelihood function which assigns full probability mass to a single point, i.e. the predicted value of the simulator observable.\n\n\n\n\n\n","category":"function"},{"location":"api/sbi/#SimulationBasedInference.IsotropicGaussianLikelihood","page":"SimulationBasedInference","title":"SimulationBasedInference.IsotropicGaussianLikelihood","text":"IsotropicGaussianLikelihood(obs, data, prior, name)\n\nAlias for SimulatorLikelihood(IsoNormal, obs, data, prior, name). Represents a multivaraite i.i.d Guassian likelihood with homoscedastic noise.\n\n\n\n\n\n","category":"function"},{"location":"api/sbi/#SimulationBasedInference.autoprior-Tuple{Any, Any}","page":"SimulationBasedInference","title":"SimulationBasedInference.autoprior","text":"autoprior(mean, stddev; lower=-Inf, upper=Inf)\n\nHelper function that automatically constructs a prior distribution with the given mean, standard deviation, and support. Note that lower < mean <= upper must be satisfied. For unbounded variables, Normal is returned. For variabels bounded from below (i.e. either lower or upper bound is finite), a transformed LogNormal distribution is constructed. For double bounded variables, (i.e. both lower and upper are finite) a tranformed Beta distribution is constructed.\n\n\n\n\n\n","category":"method"},{"location":"api/sbi/#SimulationBasedInference.coordinates-Tuple","page":"SimulationBasedInference","title":"SimulationBasedInference.coordinates","text":"coordinates(dims...)\n\nConverts arguments dims to a tuple of coordinate Dimensions according to the following rules:\n\n- Integers `n` are converted to simple step indices `1:n`\n- Vectors are converted to `Dim`s\n\n\n\n\n\n","category":"method"},{"location":"api/sbi/#SimulationBasedInference.coordinates-Tuple{SimulationBasedInference.Observable}","page":"SimulationBasedInference","title":"SimulationBasedInference.coordinates","text":"coordinates(obs::Observable)\n\nRetrieves coordinates for each dimension of the observables as a Tuple with length matching the number of dimensions.\n\n\n\n\n\n","category":"method"},{"location":"api/sbi/#SimulationBasedInference.ensemble_kalman_analysis-Tuple{AbstractVecOrMat, AbstractVector, AbstractMatrix, Any, Any}","page":"SimulationBasedInference","title":"SimulationBasedInference.ensemble_kalman_analysis","text":"ensemble_kalman_analysis(\n    prior::AbstractVecOrMat,\n    obs::AbstractVector,\n    pred::AbstractMatrix,\n    alpha,\n    R_cov;\n    ρ_AB=1.0,\n    ρ_BB=1.0,\n    stochastic=true,\n    dosvd=true,\n    svd_thresh=0.90,\n    rng::AbstractRNG=Random.GLOBAL_RNG,\n)\n\nPerforms a single ensemble Kalman analysis step. Adapted from the python implementation by Kristoffer Aalstad:\n\nhttps://github.com/ealonsogzl/MuSA/blob/0c02b8dc25a0f902bf63099de68174f4738705f0/modules/filters.py#L33\n\n\n\n\n\n","category":"method"},{"location":"api/sbi/#SimulationBasedInference.forward_map-Tuple{AbstractSimulatorPrior, Any}","page":"SimulationBasedInference","title":"SimulationBasedInference.forward_map","text":"forward_map(prior::AbstractSimulatorPrior, ζ)\n\nApplies the forward map from the sample space of the prior to the parameter space of the forward model (simulator). Note that this mapping need not necessarily be bijective in the case of hierarchical or reparamterized formulations of the model parameter prior. Defaults to returning identity(ζ).\n\n\n\n\n\n","category":"method"},{"location":"api/sbi/#SimulationBasedInference.from_moments-Union{Tuple{T}, Tuple{Type{T}, Any, Any}} where T<:Distribution","page":"SimulationBasedInference","title":"SimulationBasedInference.from_moments","text":"from_moments(::Type{T}, mean, stddev) where {T<:Distribution}\n\nConstruct a distribution of type T using the method of moments. It is assumed that the given mean lies within the untransformed support of the distribution.\n\n\n\n\n\n","category":"method"},{"location":"api/sbi/#SimulationBasedInference.gaussian_approx-Tuple{EmpiricalGaussian, AbstractSimulatorPrior}","page":"SimulationBasedInference","title":"SimulationBasedInference.gaussian_approx","text":"gaussian_gapprox(prior::AbstractSimulatorPrior; num_prior_samples::Int=10_000, rng::Random.AbstractRNG=Random.default_rng())\n\nBuilds an empirical multivariate Gaussian approximation of the given prior distribution by computing the moments of the transformed samples.\n\n\n\n\n\n","category":"method"},{"location":"api/sbi/#SimulationBasedInference.get_ensemble","page":"SimulationBasedInference","title":"SimulationBasedInference.get_ensemble","text":"get_ensemble(sol::SimulatorInferenceSolution{<:EnsembleInferenceAlgorithm}, iter::Int=-1)\n\nFetches the state of the ensemble from the given solution object. For iterative algorithms, the optinal argument iter may be provided, which then retrieves the ensemble at the given iteration.\n\n\n\n\n\n","category":"function"},{"location":"api/sbi/#SimulationBasedInference.get_ensemble-Tuple{SimulationBasedInference.EnsembleState}","page":"SimulationBasedInference","title":"SimulationBasedInference.get_ensemble","text":"get_ensemble(state::EnsembleState)\n\nRetrieves the current ensemble matrix from the given EnsembleState. Must be implemented for each ensemble algorithm state type.\n\n\n\n\n\n","category":"method"},{"location":"api/sbi/#SimulationBasedInference.get_observables","page":"SimulationBasedInference","title":"SimulationBasedInference.get_observables","text":"get_observables(sol::SimulatorInferenceSolution{<:EnsembleInferenceAlgorithm}, iter::Int=-1)\n\nReturns a NamedTuple of concatenated observables at iteration iter.\n\n\n\n\n\n","category":"function"},{"location":"api/sbi/#SimulationBasedInference.get_transformed_ensemble","page":"SimulationBasedInference","title":"SimulationBasedInference.get_transformed_ensemble","text":"get_transformed_ensemble(sol::SimulatorInferenceSolution{<:EnsembleInferenceAlgorithm}, iter::Int=-1)\n\nFetches the transformed ensemble from the given solution object. For iterative algorithms, the optinal argument iter may be provided, which then retrieves the ensemble at the given iteration.\n\n\n\n\n\n","category":"function"},{"location":"api/sbi/#SimulationBasedInference.getvalue-Union{Tuple{SimulationBasedInference.Observable}, Tuple{T}, Tuple{SimulationBasedInference.Observable, Type{T}}} where T","page":"SimulationBasedInference","title":"SimulationBasedInference.getvalue","text":"getvalue(::Observable, ::Type{T}=Any) where {T}\n\nRetreive the obsevable at all coordinates.\n\n\n\n\n\n","category":"method"},{"location":"api/sbi/#SimulationBasedInference.importance_weights-Tuple{AbstractVector, AbstractMatrix, Any}","page":"SimulationBasedInference","title":"SimulationBasedInference.importance_weights","text":"importance_weights(obs::AbstractVector, pred::AbstractMatrix, R::AbstractMatrix)\n\nComputes the importance weights from the given observations, predictions, and noise covariance. When used for data assimilation, this algorithm is also known as the \"particle batch smoother\". This implementation is adapted from the python implementation by Kristoffer Aalstad:\n\nhttps://github.com/ealonsogzl/MuSA/blob/0c02b8dc25a0f902bf63099de68174f4738705f0/modules/filters.py#L169\n\nOriginal docstring:\n\nInputs:     obs: Observation vector (m x 1 array)     pred: Predicted observation ensemble matrix (m x N array)     R: Observation error covariance 'matrix' (m x 1 array, or scalar) Outputs:     w: Posterior weights (N x 1 array)     Neff: Effective sample size Dimensions:     N is the number of ensemble members and m is the number     of observations.\n\nHere we have implemented the particle batch smoother, which is a batch-smoother version of the particle filter (i.e. a particle filter without resampling), described in Margulis et al. (2015, doi: 10.1175/JHM-D-14-0177.1). As such, this routine can also be used for particle filtering with sequential data assimilation. This scheme is obtained by using a particle (mixture of Dirac delta functions) representation of the prior and applying this directly to Bayes theorem. In other words, it is just an application of importance sampling with the prior as the proposal density (importance distribution). It is also the same as the Generalized Likelihood Uncertainty Estimation (GLUE) technique (with a formal Gaussian likelihood)which is widely used in hydrology.\n\nThis particular scheme assumes that the observation errors are additive Gaussian white noise (uncorrelated in time and space). The \"logsumexp\" trick is used to deal with potential numerical issues with floating point operations that occur when dealing with ratios of likelihoods that vary by many orders of magnitude.\n\n\n\n\n\n","category":"method"},{"location":"api/sbi/#SimulationBasedInference.loglikelihood-Tuple{SimulatorLikelihood, Vararg{Any}}","page":"SimulationBasedInference","title":"SimulationBasedInference.loglikelihood","text":"loglikelihood(lik::SimulatorLikelihood, args...)\n\nEvaluates the log-lielihood of lik on the current observable state by constructing the predictive_distribution and evaluating the logpdf of the data.\n\n\n\n\n\n","category":"method"},{"location":"api/sbi/#SimulationBasedInference.logprob-Tuple{UnivariateDistribution, Number}","page":"SimulationBasedInference","title":"SimulationBasedInference.logprob","text":"logprob(d::UnivariateDistribution, x::Number)\n\nAlias for logpdf(d,x) on Distribution types.\n\n\n\n\n\n","category":"method"},{"location":"api/sbi/#SimulationBasedInference.obscov-Tuple{AbstractMatrix}","page":"SimulationBasedInference","title":"SimulationBasedInference.obscov","text":"obscov(::AbstractMatrix)\nobscov(::AbstractVector)\nobscov(::Number)\n\nBuilds a standard form multivariate normal covariance matrix from the given matrix, vector (diagonal), or scalar (isotropic).\n\n\n\n\n\n","category":"method"},{"location":"api/sbi/#SimulationBasedInference.obscov-Tuple{Vararg{SimulatorLikelihood}}","page":"SimulationBasedInference","title":"SimulationBasedInference.obscov","text":"obscov(likelihoods::SimulatorLikelihood...)\n\nImplementations should build a combined covariance matrix from the given likelihood types. The default implementation simply throws an error.\n\n\n\n\n\n","category":"method"},{"location":"api/sbi/#SimulationBasedInference.observe!-Tuple{SimulationBasedInference.Observable, Any}","page":"SimulationBasedInference","title":"SimulationBasedInference.observe!","text":"observe!(::Observable, state)\n\nComputes and stores the relevant state variables from the given simulator state.\n\n\n\n\n\n","category":"method"},{"location":"api/sbi/#SimulationBasedInference.prior","page":"SimulationBasedInference","title":"SimulationBasedInference.prior","text":"prior(args...; kwargs...)\n\nGeneric constructor for prior distribution types that can be implemented by subtypes of AbstractSimulatorPrior.\n\n\n\n\n\n","category":"function"},{"location":"api/sbi/#SimulationBasedInference.prior-Tuple{Symbol, Distribution}","page":"SimulationBasedInference","title":"SimulationBasedInference.prior","text":"prior(name::Symbol, dist::Distribution)\n\nAlias for NamedProductPrior((name = dist)).\n\n\n\n\n\n","category":"method"},{"location":"api/sbi/#SimulationBasedInference.prior-Tuple{}","page":"SimulationBasedInference","title":"SimulationBasedInference.prior","text":"prior(; dists...)\n\nAlias for NamedProductPrior((; dists...)).\n\n\n\n\n\n","category":"method"},{"location":"api/sbi/#SimulationBasedInference.store!-Tuple{SimulationData, AbstractVector, Any}","page":"SimulationBasedInference","title":"SimulationBasedInference.store!","text":"store!(::SimulationData, x::AbstractVector, y)\n\nStores the input/output pair x/y in the given forward map storage container.\n\n\n\n\n\n","category":"method"},{"location":"api/sbi/#SimulationBasedInference.unconstrained_forward_map-Tuple{AbstractSimulatorPrior, Any}","page":"SimulationBasedInference","title":"SimulationBasedInference.unconstrained_forward_map","text":"unconstrained_forward_map(prior::AbstractSimulatorPrior, ζ)\n\nApplies the forward map from unconstrained to forward model parameter (g ∘ f): Ζ ↦ Θ ↦ Φ where f⁻¹ is the inverse bijector of prior (i.e. mapping from unconstrained Ζ to constrained Θ space) and g is defined by forward_map which maps from Θ to the parameter space of the forward model, Φ.\n\n\n\n\n\n","category":"method"}]
}
